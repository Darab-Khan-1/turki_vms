!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).FormValidation={})}(this,function(e){"use strict";function f(e){for(var t=e.length,a=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],n=0,r=0;t--;)r+=a[n][parseInt(e.charAt(t),10)],n=1-n;return r%10==0&&0<r}function h(e){for(var t=e.length,a=5,n=0;n<t;n++)a=(2*(a||10)%11+parseInt(e.charAt(n),10))%10;return 1===a}function t(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",a=e.length,n=t.length,r=Math.floor(n/2),i=0;i<a;i++)r=(2*(r||n)%(n+1)+t.indexOf(e.charAt(i)))%n;return 1===r}function o(e){for(var t=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],a=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],n=e.reverse(),r=0,i=0;i<n.length;i++)r=t[r][a[i%8][n[i]]];return 0===r}var a={luhn:f,mod11And10:h,mod37And36:t,verhoeff:o};function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?c(e):t}function m(e,t,a,n){var r=(a.getAttribute("type")||"").toLowerCase();switch(a.tagName.toLowerCase()){case"textarea":return a.value;case"select":var i=a.selectedIndex;return 0<=i?a.options.item(i).value:"";case"input":if("radio"!==r&&"checkbox"!==r)return a.value;i=n.filter(function(e){return e.checked}).length;return 0===i?"":i+"";default:return""}}function k(e,t){var t=Array.isArray(t)?t:[t],a=e;return t.forEach(function(e){a=a.replace("%s",e)}),a}function p(e,t){if("function"==typeof e)return e.apply(this,t);if("string"==typeof e){e=e;"()"===e.substring(e.length-2)&&(e=e.substring(0,e.length-2));var a=e.split("."),e=a.pop(),n=window,r=!0,i=!1,s=void 0;try{for(var l,o=a[Symbol.iterator]();!(r=(l=o.next()).done);r=!0)n=n[l.value]}catch(e){i=!0,s=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw s}}return void 0===n[e]?null:n[e].apply(this,t)}}var g={AMERICAN_EXPRESS:{length:[15],prefix:["34","37"]},DANKORT:{length:[16],prefix:["5019"]},DINERS_CLUB:{length:[14],prefix:["300","301","302","303","304","305","36"]},DINERS_CLUB_US:{length:[16],prefix:["54","55"]},DISCOVER:{length:[16],prefix:["6011","622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925","644","645","646","647","648","649","65"]},ELO:{length:[16],prefix:["4011","4312","4389","4514","4573","4576","5041","5066","5067","509","6277","6362","6363","650","6516","6550"]},FORBRUGSFORENINGEN:{length:[16],prefix:["600722"]},JCB:{length:[16],prefix:["3528","3529","353","354","355","356","357","358"]},LASER:{length:[16,17,18,19],prefix:["6304","6706","6771","6709"]},MAESTRO:{length:[12,13,14,15,16,17,18,19],prefix:["5018","5020","5038","5868","6304","6759","6761","6762","6763","6764","6765","6766"]},MASTERCARD:{length:[16],prefix:["51","52","53","54","55"]},SOLO:{length:[16,18,19],prefix:["6334","6767"]},UNIONPAY:{length:[16,17,18,19],prefix:["622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925"]},VISA:{length:[16],prefix:["4"]},VISA_ELECTRON:{length:[16],prefix:["4026","417500","4405","4508","4844","4913","4917"]}};function E(e,t,a,n){if(isNaN(e)||isNaN(t)||isNaN(a))return!1;if(e<1e3||9999<e||t<=0||12<t)return!1;if(a<=0||[31,e%400==0||e%100!=0&&e%4==0?29:28,31,30,31,30,31,31,30,31,30,31][t-1]<a)return!1;if(!0!==n)return!0;var r=new Date,i=r.getFullYear(),n=r.getMonth(),r=r.getDate();return e<i||e===i&&t-1<n||e===i&&t-1===n&&a<r}function b(d,u){return new Promise(function(t,e){var a,n,r,i,s=Object.assign({},{crossDomain:!1,headers:{},method:"GET",params:{}},u),l=Object.keys(s.params).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(s.params[e]))}).join("&"),o=d.indexOf("?"),l="GET"===s.method?"".concat(d).concat(o?"?":"&").concat(l):d;s.crossDomain?(a=document.createElement("script"),n="___fetch".concat(Date.now(),"___"),window[n]=function(e){delete window[n],t(e)},a.src="".concat(l).concat(o?"&":"?","callback=").concat(n),a.async=!0,a.addEventListener("load",function(){a.parentNode.removeChild(a)}),a.addEventListener("error",function(){return e}),document.head.appendChild(a)):((r=new XMLHttpRequest).open(s.method,l),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"===s.method&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),Object.keys(s.headers).forEach(function(e){return r.setRequestHeader(e,s.headers[e])}),r.addEventListener("load",function(){t(JSON.parse(this.responseText))}),r.addEventListener("error",function(){return e}),r.send((i=s.params,Object.keys(i).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(i[e]))}).join("&"))))})}function A(e,t){if(!/^\d{13}$/.test(e))return!1;var a=parseInt(e.substr(0,2),10),n=parseInt(e.substr(2,2),10),r=parseInt(e.substr(7,2),10),i=parseInt(e.substr(12,1),10);if(31<a||12<n)return!1;for(var s=0,l=0;l<6;l++)s+=(7-l)*(parseInt(e.charAt(l),10)+parseInt(e.charAt(l+6),10));if(10!==(s=11-s%11)&&11!==s||(s=0),s!==i)return!1;switch(t.toUpperCase()){case"BA":return 10<=r&&r<=19;case"MK":return 41<=r&&r<=49;case"ME":return 20<=r&&r<=29;case"RS":return 70<=r&&r<=99;case"SI":return 50<=r&&r<=59;default:return!0}}function I(e){if(!/^\d{9,10}$/.test(e))return{meta:{},valid:!1};var t=1900+parseInt(e.substr(0,2),10),a=parseInt(e.substr(2,2),10)%50%20,n=parseInt(e.substr(4,2),10);if(9===e.length){if(1980<=t&&(t-=100),1953<t)return{meta:{},valid:!1}}else t<1954&&(t+=100);if(!E(t,a,n))return{meta:{},valid:!1};if(10!==e.length)return{meta:{},valid:!0};n=parseInt(e.substr(0,9),10)%11;return t<1985&&(n%=10),{meta:{},valid:"".concat(n)===e.substr(9,1)}}function y(e){if(!/^\d{7}[A-W][AHWTX]?$/.test(e))return{meta:{},valid:!1};function t(e){for(var t=e;t.length<7;)t="0".concat(t);for(var e="WABCDEFGHIJKLMNOPQRSTUV",a=0,n=0;n<7;n++)a+=parseInt(t.charAt(n),10)*(8-n);return a+=9*e.indexOf(t.substr(7)),e[a%23]}return{meta:{},valid:9!==e.length||"A"!==e.charAt(8)&&"H"!==e.charAt(8)?e.charAt(7)===t(e.substr(0,7)):e.charAt(7)===t(e.substr(0,7)+e.substr(8)+"")}}function C(e){if(!/^[0-9]{11}$/.test(e))return{meta:{},valid:!1};var t=parseInt(e.charAt(0),10);if(!E(100*(t%2==0?17+t/2:17+(t+1)/2)+parseInt(e.substr(1,2),10),parseInt(e.substr(3,2),10),parseInt(e.substr(5,2),10),!0))return{meta:{},valid:!1};for(var a=[1,2,3,4,5,6,7,8,9,1],n=0,r=0;r<10;r++)n+=parseInt(e.charAt(r),10)*a[r];if(10!==(n%=11))return{meta:{},valid:"".concat(n)===e.charAt(10)};for(a=[3,4,5,6,7,8,9,1,2,3],r=n=0;r<10;r++)n+=parseInt(e.charAt(r),10)*a[r];return 10===(n%=11)&&(n=0),{meta:{},valid:"".concat(n)===e.charAt(10)}}function O(e){var t=e;if(/^BG[0-9]{9,10}$/.test(t)&&(t=t.substr(2)),!/^[0-9]{9,10}$/.test(t))return{meta:{},valid:!1};var a=0,n=0;if(9===t.length){for(n=0;n<8;n++)a+=parseInt(t.charAt(n),10)*(n+1);if(10===(a%=11))for(n=a=0;n<8;n++)a+=parseInt(t.charAt(n),10)*(n+3);return{meta:{},valid:"".concat(a%=10)===t.substr(8)}}return{meta:{},valid:function(e){var t=parseInt(e.substr(0,2),10)+1900,a=parseInt(e.substr(2,2),10);if(40<a?(t+=100,a-=40):20<a&&(t-=100,a-=20),!E(t,a,parseInt(e.substr(4,2),10)))return!1;for(var n=[2,4,8,5,10,9,7,3,6],r=0,i=0;i<9;i++)r+=parseInt(e.charAt(i),10)*n[i];return"".concat(r=r%11%10)===e.substr(9,1)}(t)||function(e){for(var t=[21,19,17,13,11,9,7,3,1],a=0,n=0;n<9;n++)a+=parseInt(e.charAt(n),10)*t[n];return"".concat(a%=10)===e.substr(9,1)}(t)||function(e){for(var t=[4,3,2,7,6,5,4,3,2],a=0,n=0;n<9;n++)a+=parseInt(e.charAt(n),10)*t[n];return 10!=(a=11-a%11)&&(11===a&&(a=0),"".concat(a)===e.substr(9,1))}(t)}}function F(e){var t=e;if(/^(GR|EL)[0-9]{9}$/.test(t)&&(t=t.substr(2)),!/^[0-9]{9}$/.test(t))return{meta:{},valid:!1};8===t.length&&(t="0".concat(t));for(var a=[256,128,64,32,16,8,4,2],n=0,r=0;r<8;r++)n+=parseInt(t.charAt(r),10)*a[r];return{meta:{},valid:"".concat(n=n%11%10)===t.substr(8,1)}}var V={between:function(){function i(e){return parseFloat("".concat(e).replace(",","."))}return{validate:function(e){var t=e.value;if(""===t)return{valid:!0};var a=Object.assign({},{inclusive:!0,message:""},e.options),n=i(a.min),r=i(a.max);return a.inclusive?{message:k(e.l10n?a.message||e.l10n.between.default:a.message,["".concat(n),"".concat(r)]),valid:parseFloat(t)>=n&&parseFloat(t)<=r}:{message:k(e.l10n?a.message||e.l10n.between.notInclusive:a.message,["".concat(n),"".concat(r)]),valid:parseFloat(t)>n&&parseFloat(t)<r}}}},blank:function(){return{validate:function(e){return{valid:!0}}}},callback:function(){return{validate:function(e){e=p(e.options.callback,[e]);return"boolean"==typeof e?{valid:e}:e}}},choice:function(){return{validate:function(e){var t=("select"===e.element.tagName.toLowerCase()?e.element.querySelectorAll("option:checked"):e.elements.filter(function(e){return e.checked})).length,a=e.options.min?"".concat(e.options.min):"",n=e.options.max?"".concat(e.options.max):"",r=e.l10n?e.options.message||e.l10n.choice.default:e.options.message,t=!(a&&t<parseInt(a,10)||n&&t>parseInt(n,10));switch(!0){case!!a&&!!n:r=k(e.l10n?e.l10n.choice.between:e.options.message,[a,n]);break;case!!a:r=k(e.l10n?e.l10n.choice.more:e.options.message,a);break;case!!n:r=k(e.l10n?e.l10n.choice.less:e.options.message,n)}return{message:r,valid:t}}}},creditCard:function(){return{validate:function(e){if(""===e.value)return{meta:{type:null},valid:!0};if(/[^0-9-\s]+/.test(e.value))return{meta:{type:null},valid:!1};var t=e.value.replace(/\D/g,"");if(!f(t))return{meta:{type:null},valid:!1};for(var a=0,n=Object.keys(g);a<n.length;a++){var r,i=n[a];for(r in g[i].prefix)if(e.value.substr(0,g[i].prefix[r].length)===g[i].prefix[r]&&-1!==g[i].length.indexOf(t.length))return{meta:{type:i},valid:!0}}return{meta:{type:null},valid:!1}}}},date:function(){function A(e,t,a){var n=t.indexOf("YYYY"),r=t.indexOf("MM"),t=t.indexOf("DD");return-1===n||-1===r||-1===t?null:(e=e.split(" "),(a=e[0].split(a)).length<3?null:(t=new Date(parseInt(a[n],10),parseInt(a[r],10)-1,parseInt(a[t],10)),1<e.length&&(e=e[1].split(":"),t.setHours(0<e.length?parseInt(e[0],10):0),t.setMinutes(1<e.length?parseInt(e[1],10):0),t.setSeconds(2<e.length?parseInt(e[2],10):0)),t))}function I(e,t){var a=t.replace(/Y/g,"y").replace(/M/g,"m").replace(/D/g,"d").replace(/:m/g,":M").replace(/:mm/g,":MM").replace(/:S/,":s").replace(/:SS/,":ss"),n=e.getDate(),r=n<10?"0".concat(n):n,i=e.getMonth()+1,s=i<10?"0".concat(i):i,l="".concat(e.getFullYear()).substr(2),o=e.getFullYear(),d=e.getHours()%12||12,u=d<10?"0".concat(d):d,c=e.getHours(),v=c<10?"0".concat(c):c,f=e.getMinutes(),h=f<10?"0".concat(f):f,e=(t=e.getSeconds())<10?"0".concat(t):t,m={H:"".concat(c),HH:"".concat(v),M:"".concat(f),MM:"".concat(h),d:"".concat(n),dd:"".concat(r),h:"".concat(d),hh:"".concat(u),m:"".concat(i),mm:"".concat(s),s:"".concat(t),ss:"".concat(e),yy:"".concat(l),yyyy:"".concat(o)};return a.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMs])\1?|"[^"]*"|'[^']*'/g,function(e){return m[e]||e.slice(1,e.length-1)})}return{validate:function(e){if(""===e.value)return{meta:{date:null},valid:!0};var t=Object.assign({},{format:e.element&&"date"===e.element.getAttribute("type")?"YYYY-MM-DD":"MM/DD/YYYY",message:""},e.options),a=e.l10n?e.l10n.date.default:t.message,n={message:"".concat(a),meta:{date:null},valid:!1},r=t.format.split(" "),i=1<r.length?r[1]:null,s=2<r.length?r[2]:null,l=e.value.split(" "),o=l[0],d=1<l.length?l[1]:null;if(r.length!==l.length)return n;var u=t.separator||(-1!==o.indexOf("/")?"/":-1!==o.indexOf("-")?"-":-1!==o.indexOf(".")?".":"/");if(null===u||-1===o.indexOf(u))return n;var c=o.split(u),l=r[0].split(u);if(c.length!==l.length)return n;o=c[l.indexOf("YYYY")],r=c[l.indexOf("MM")],c=c[l.indexOf("DD")];if(!/^\d+$/.test(o)||!/^\d+$/.test(r)||!/^\d+$/.test(c)||4<o.length||2<r.length||2<c.length)return n;o=parseInt(o,10),r=parseInt(r,10),c=parseInt(c,10);if(!E(o,r,c))return n;var v=new Date(o,r-1,c);if(i){var f=d.split(":");if(i.split(":").length!==f.length)return n;var i=0<f.length?f[0].length<=2&&/^\d+$/.test(f[0])?parseInt(f[0],10):-1:0,h=1<f.length?f[1].length<=2&&/^\d+$/.test(f[1])?parseInt(f[1],10):-1:0,f=2<f.length?f[2].length<=2&&/^\d+$/.test(f[2])?parseInt(f[2],10):-1:0;if(-1===i||-1===h||-1===f)return n;if(f<0||60<f)return n;if(i<0||24<=i||s&&12<i)return n;if(h<0||59<h)return n;v.setHours(i),v.setMinutes(h),v.setSeconds(f)}var h="function"==typeof t.min?t.min():t.min,m=h instanceof Date?h:h?A(h,l,u):v,f="function"==typeof t.max?t.max():t.max,p=f instanceof Date?f:f?A(f,l,u):v,g=h instanceof Date?I(m,t.format):h,b=f instanceof Date?I(p,t.format):f;switch(!0){case!!g&&!b:return{message:k(e.l10n?e.l10n.date.min:a,g),meta:{date:v},valid:v.getTime()>=m.getTime()};case!!b&&!g:return{message:k(e.l10n?e.l10n.date.max:a,b),meta:{date:v},valid:v.getTime()<=p.getTime()};case!!b&&!!g:return{message:k(e.l10n?e.l10n.date.range:a,[g,b]),meta:{date:v},valid:v.getTime()<=p.getTime()&&v.getTime()>=m.getTime()};default:return{message:"".concat(a),meta:{date:v},valid:!0}}}}},different:function(){return{validate:function(e){var t="function"==typeof e.options.compare?e.options.compare.call(this):e.options.compare;return{valid:""===t||e.value!==t}}}},digits:function(){return{validate:function(e){return{valid:""===e.value||/^\d+$/.test(e.value)}}}},emailAddress:function(){return{validate:function(e){if(""===e.value)return{valid:!0};var t=Object.assign({},{multiple:!1,separator:/[,;]/},e.options),a=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;if(!0!==t.multiple&&"true"!=="".concat(t.multiple))return{valid:a.test(e.value)};for(var t=t.separator||/[,;]/,n=function(e,t){for(var a=e.split(/"/),n=a.length,r=[],i="",s=0;s<n;s++)if(s%2==0){var l=a[s].split(t),o=l.length;if(1===o)i+=l[0];else{r.push(i+l[0]);for(var d=1;d<o-1;d++)r.push(l[d]);i=l[o-1]}}else i+='"'+a[s],s<n-1&&(i+='"');return r.push(i),r}(e.value,t),r=n.length,i=0;i<r;i++)if(!a.test(n[i]))return{valid:!1};return{valid:!0}}}},file:function(){return{validate:function(e){if(""===e.value)return{valid:!0};var t,a=e.options.extension?e.options.extension.toLowerCase().split(","):null,n=e.options.type?e.options.type.toLowerCase().split(","):null;if(window.File&&window.FileList&&window.FileReader){var r=e.element.files,i=r.length,s=0;if(e.options.maxFiles&&i>parseInt("".concat(e.options.maxFiles),10))return{meta:{error:"INVALID_MAX_FILES"},valid:!1};if(e.options.minFiles&&i<parseInt("".concat(e.options.minFiles),10))return{meta:{error:"INVALID_MIN_FILES"},valid:!1};for(var l={},o=0;o<i;o++){if(s+=r[o].size,l={ext:t=r[o].name.substr(r[o].name.lastIndexOf(".")+1),file:r[o],size:r[o].size,type:r[o].type},e.options.minSize&&r[o].size<parseInt("".concat(e.options.minSize),10))return{meta:Object.assign({},{error:"INVALID_MIN_SIZE"},l),valid:!1};if(e.options.maxSize&&r[o].size>parseInt("".concat(e.options.maxSize),10))return{meta:Object.assign({},{error:"INVALID_MAX_SIZE"},l),valid:!1};if(a&&-1===a.indexOf(t.toLowerCase()))return{meta:Object.assign({},{error:"INVALID_EXTENSION"},l),valid:!1};if(r[o].type&&n&&-1===n.indexOf(r[o].type.toLowerCase()))return{meta:Object.assign({},{error:"INVALID_TYPE"},l),valid:!1}}if(e.options.maxTotalSize&&s>parseInt("".concat(e.options.maxTotalSize),10))return{meta:Object.assign({},{error:"INVALID_MAX_TOTAL_SIZE",totalSize:s},l),valid:!1};if(e.options.minTotalSize&&s<parseInt("".concat(e.options.minTotalSize),10))return{meta:Object.assign({},{error:"INVALID_MIN_TOTAL_SIZE",totalSize:s},l),valid:!1}}else if(t=e.value.substr(e.value.lastIndexOf(".")+1),a&&-1===a.indexOf(t.toLowerCase()))return{meta:{error:"INVALID_EXTENSION",ext:t},valid:!1};return{valid:!0}}}},greaterThan:function(){return{validate:function(e){if(""===e.value)return{valid:!0};var t=Object.assign({},{inclusive:!0,message:""},e.options),a=parseFloat("".concat(t.min).replace(",","."));return t.inclusive?{message:k(e.l10n?t.message||e.l10n.greaterThan.default:t.message,"".concat(a)),valid:parseFloat(e.value)>=a}:{message:k(e.l10n?t.message||e.l10n.greaterThan.notInclusive:t.message,"".concat(a)),valid:parseFloat(e.value)>a}}}},identical:function(){return{validate:function(e){var t="function"==typeof e.options.compare?e.options.compare.call(this):e.options.compare;return{valid:""===t||e.value===t}}}},integer:function(){return{validate:function(e){if(""===e.value)return{valid:!0};var t=Object.assign({},{decimalSeparator:".",thousandsSeparator:""},e.options),a="."===t.decimalSeparator?"\\.":t.decimalSeparator,n="."===t.thousandsSeparator?"\\.":t.thousandsSeparator,r=new RegExp("^-?[0-9]{1,3}(".concat(n,"[0-9]{3})*(").concat(a,"[0-9]+)?$")),t=new RegExp(n,"g"),e="".concat(e.value);if(!r.test(e))return{valid:!1};n&&(e=e.replace(t,"")),a&&(e=e.replace(a,"."));e=parseFloat(e);return{valid:!isNaN(e)&&isFinite(e)&&Math.floor(e)===e}}}},ip:function(){return{validate:function(e){if(""===e.value)return{valid:!0};var t=Object.assign({},{ipv4:!0,ipv6:!0},e.options),a=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\/([0-9]|[1-2][0-9]|3[0-2]))?$/,n=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*(\/(\d|\d\d|1[0-1]\d|12[0-8]))?$/;switch(!0){case t.ipv4&&!t.ipv6:return{message:e.l10n?t.message||e.l10n.ip.ipv4:t.message,valid:a.test(e.value)};case!t.ipv4&&t.ipv6:return{message:e.l10n?t.message||e.l10n.ip.ipv6:t.message,valid:n.test(e.value)};case t.ipv4&&t.ipv6:default:return{message:e.l10n?t.message||e.l10n.ip.default:t.message,valid:a.test(e.value)||n.test(e.value)}}}}},lessThan:function(){return{validate:function(e){if(""===e.value)return{valid:!0};var t=Object.assign({},{inclusive:!0,message:""},e.options),a=parseFloat("".concat(t.max).replace(",","."));return t.inclusive?{message:k(e.l10n?t.message||e.l10n.lessThan.default:t.message,"".concat(a)),valid:parseFloat(e.value)<=a}:{message:k(e.l10n?t.message||e.l10n.lessThan.notInclusive:t.message,"".concat(a)),valid:parseFloat(e.value)<a}}}},notEmpty:function(){return{validate:function(e){return{valid:""!==e.value}}}},numeric:function(){return{validate:function(e){if(""===e.value)return{valid:!0};var t=Object.assign({},{decimalSeparator:".",thousandsSeparator:""},e.options),a="".concat(e.value);a.substr(0,1)===t.decimalSeparator?a="0".concat(t.decimalSeparator).concat(a.substr(1)):a.substr(0,2)==="-".concat(t.decimalSeparator)&&(a="-0".concat(t.decimalSeparator).concat(a.substr(2)));var n="."===t.decimalSeparator?"\\.":t.decimalSeparator,r="."===t.thousandsSeparator?"\\.":t.thousandsSeparator,e=new RegExp("^-?[0-9]{1,3}(".concat(r,"[0-9]{3})*(").concat(n,"[0-9]+)?$")),t=new RegExp(r,"g");if(!e.test(a))return{valid:!1};r&&(a=a.replace(t,"")),n&&(a=a.replace(n,"."));a=parseFloat(a);return{valid:!isNaN(a)&&isFinite(a)}}}},promise:function(){return{validate:function(e){return p(e.options.promise,[e])}}},regexp:function(){return{validate:function(e){if(""===e.value)return{valid:!0};var t=e.options.regexp;if(t instanceof RegExp)return{valid:t.test(e.value)};t=t.toString();return{valid:(e.options.flags?new RegExp(t,e.options.flags):new RegExp(t)).test(e.value)}}}},remote:function(){var n={crossDomain:!1,data:{},headers:{},method:"GET",validKey:"valid"};return{validate:function(e){if(""===e.value)return Promise.resolve({valid:!0});var t=Object.assign({},n,e.options),a=t.data;return"function"==typeof t.data&&(a=t.data.call(this,e)),"string"==typeof a&&(a=JSON.parse(a)),a[t.name||e.field]=e.value,b("function"==typeof t.url?t.url.call(this,e):t.url,{crossDomain:t.crossDomain,headers:t.headers,method:t.method,params:a}).then(function(e){return Promise.resolve({message:e.message,meta:e,valid:"true"==="".concat(e[t.validKey])})}).catch(function(e){return Promise.reject({valid:!1})})}}},stringCase:function(){return{validate:function(e){if(""===e.value)return{valid:!0};var t=Object.assign({},{case:"lower"},e.options),a=(t.case||"lower").toLowerCase();return{message:t.message||(e.l10n?"upper"===a?e.l10n.stringCase.upper:e.l10n.stringCase.default:t.message),valid:"upper"===a?e.value===e.value.toUpperCase():e.value===e.value.toLowerCase()}}}},stringLength:function(){return{validate:function(e){var t=Object.assign({},{message:"",trim:!1,utf8Bytes:!1},e.options),a=!0===t.trim||"true"==="".concat(t.trim)?e.value.trim():e.value;if(""===a)return{valid:!0};var n=t.min?"".concat(t.min):"",r=t.max?"".concat(t.max):"",i=t.utf8Bytes?function(e){for(var t=e.length,a=e.length-1;0<=a;a--){var n=e.charCodeAt(a);127<n&&n<=2047?t++:2047<n&&n<=65535&&(t+=2),56320<=n&&n<=57343&&a--}return"".concat(t)}(a):a.length,a=!0,s=e.l10n?t.message||e.l10n.stringLength.default:t.message;switch((n&&i<parseInt(n,10)||r&&i>parseInt(r,10))&&(a=!1),!0){case!!n&&!!r:s=k(e.l10n?t.message||e.l10n.stringLength.between:t.message,[n,r]);break;case!!n:s=k(e.l10n?t.message||e.l10n.stringLength.more:t.message,"".concat(parseInt(n,10)-1));break;case!!r:s=k(e.l10n?t.message||e.l10n.stringLength.less:t.message,"".concat(parseInt(r,10)+1))}return{message:s,valid:a}}}},uri:function(){var r={allowEmptyProtocol:!1,allowLocal:!1,protocol:"http, https, ftp"};return{validate:function(e){if(""===e.value)return{valid:!0};var t=Object.assign({},r,e.options),a=!0===t.allowLocal||"true"==="".concat(t.allowLocal),n=!0===t.allowEmptyProtocol||"true"==="".concat(t.allowEmptyProtocol),t=t.protocol.split(",").join("|").replace(/\s/g,"");return{valid:new RegExp("^(?:(?:"+t+")://)"+(n?"?":"")+"(?:\\S+(?::\\S*)?@)?(?:"+(a?"":"(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})")+"(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-?)*[a-z\\u00a1-\\uffff0-9])*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))"+(a?"?":"")+")(?::\\d{2,5})?(?:/[^\\s]*)?$","i").test(e.value)}}}},base64:function(){return{validate:function(e){return{valid:""===e.value||/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$/.test(e.value)}}}},bic:function(){return{validate:function(e){return{valid:""===e.value||/^[a-zA-Z]{6}[a-zA-Z0-9]{2}([a-zA-Z0-9]{3})?$/.test(e.value)}}}},color:function(){var c=["hex","rgb","rgba","hsl","hsla","keyword"],v=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"];return{validate:function(e){if(""===e.value)return{valid:!0};var t,a,n,r="string"==typeof e.options.type?e.options.type.toString().replace(/s/g,"").split(","):e.options.type||c,i=!0,s=!1,l=void 0;try{for(var o=r[Symbol.iterator]();!(i=(d=o.next()).done);i=!0){var d=d.value.toLowerCase();if(-1!==c.indexOf(d)){var u=!0;switch(d){case"hex":n=e.value,u=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n);break;case"hsl":n=e.value,u=/^hsl\((\s*(-?\d+)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*)\)$/.test(n);break;case"hsla":a=e.value,u=/^hsla\((\s*(-?\d+)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*,){2}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/.test(a);break;case"keyword":a=e.value,u=0<=v.indexOf(a);break;case"rgb":t=e.value,u=/^rgb\((\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*,){2}(\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*)\)$/.test(t)||/^rgb\((\s*(\b(0?\d{1,2}|100)\b%)\s*,){2}(\s*(\b(0?\d{1,2}|100)\b%)\s*)\)$/.test(t);break;case"rgba":t=e.value,u=/^rgba\((\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*,){3}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/.test(t)||/^rgba\((\s*(\b(0?\d{1,2}|100)\b%)\s*,){3}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/.test(t)}if(u)return{valid:!0}}}}catch(e){s=!0,l=e}finally{try{i||null==o.return||o.return()}finally{if(s)throw l}}return{valid:!1}}}},cusip:function(){return{validate:function(e){if(""===e.value)return{valid:!0};e=e.value.toUpperCase();if(!/^[0-9A-Z]{9}$/.test(e))return{valid:!1};for(var t=e.split("").map(function(e){var t=e.charCodeAt(0);return t>="A".charCodeAt(0)&&t<="Z".charCodeAt(0)?t-"A".charCodeAt(0)+10+"":e}),a=t.length,n=0,r=0;r<a-1;r++){var i=parseInt(t[r],10);r%2!=0&&(i*=2),9<i&&(i-=9),n+=i}return{valid:(n=(10-n%10)%10)===parseInt(t[a-1],10)}}}},ean:function(){return{validate:function(e){if(""===e.value)return{valid:!0};if(!/^(\d{8}|\d{12}|\d{13}|\d{14})$/.test(e.value))return{valid:!1};for(var t=e.value.length,a=0,n=8===t?[3,1]:[1,3],r=0;r<t-1;r++)a+=parseInt(e.value.charAt(r),10)*n[r%2];return{valid:"".concat(a=(10-a%10)%10)===e.value.charAt(t-1)}}}},ein:function(){var n={ANDOVER:["10","12"],ATLANTA:["60","67"],AUSTIN:["50","53"],BROOKHAVEN:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],CINCINNATI:["30","32","35","36","37","38","61"],FRESNO:["15","24"],INTERNET:["20","26","27","45","46","47"],KANSAS_CITY:["40","44"],MEMPHIS:["94","95"],OGDEN:["80","90"],PHILADELPHIA:["33","39","41","42","43","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],SMALL_BUSINESS_ADMINISTRATION:["31"]};return{validate:function(e){if(""===e.value)return{meta:null,valid:!0};if(!/^[0-9]{2}-?[0-9]{7}$/.test(e.value))return{meta:null,valid:!1};var t,a="".concat(e.value.substr(0,2));for(t in n)if(-1!==n[t].indexOf(a))return{meta:{campus:t},valid:!0};return{meta:null,valid:!1}}}},grid:function(){return{validate:function(e){if(""===e.value)return{valid:!0};e=e.value.toUpperCase();return/^[GRID:]*([0-9A-Z]{2})[-\s]*([0-9A-Z]{5})[-\s]*([0-9A-Z]{10})[-\s]*([0-9A-Z]{1})$/g.test(e)?("GRID:"===(e=e.replace(/\s/g,"").replace(/-/g,"")).substr(0,5)&&(e=e.substr(5)),{valid:t(e)}):{valid:!1}}}},hex:function(){return{validate:function(e){return{valid:""===e.value||/^[0-9a-fA-F]+$/.test(e.value)}}}},iban:function(){var o={AD:"AD[0-9]{2}[0-9]{4}[0-9]{4}[A-Z0-9]{12}",AE:"AE[0-9]{2}[0-9]{3}[0-9]{16}",AL:"AL[0-9]{2}[0-9]{8}[A-Z0-9]{16}",AO:"AO[0-9]{2}[0-9]{21}",AT:"AT[0-9]{2}[0-9]{5}[0-9]{11}",AZ:"AZ[0-9]{2}[A-Z]{4}[A-Z0-9]{20}",BA:"BA[0-9]{2}[0-9]{3}[0-9]{3}[0-9]{8}[0-9]{2}",BE:"BE[0-9]{2}[0-9]{3}[0-9]{7}[0-9]{2}",BF:"BF[0-9]{2}[0-9]{23}",BG:"BG[0-9]{2}[A-Z]{4}[0-9]{4}[0-9]{2}[A-Z0-9]{8}",BH:"BH[0-9]{2}[A-Z]{4}[A-Z0-9]{14}",BI:"BI[0-9]{2}[0-9]{12}",BJ:"BJ[0-9]{2}[A-Z]{1}[0-9]{23}",BR:"BR[0-9]{2}[0-9]{8}[0-9]{5}[0-9]{10}[A-Z][A-Z0-9]",CH:"CH[0-9]{2}[0-9]{5}[A-Z0-9]{12}",CI:"CI[0-9]{2}[A-Z]{1}[0-9]{23}",CM:"CM[0-9]{2}[0-9]{23}",CR:"CR[0-9]{2}[0-9][0-9]{3}[0-9]{14}",CV:"CV[0-9]{2}[0-9]{21}",CY:"CY[0-9]{2}[0-9]{3}[0-9]{5}[A-Z0-9]{16}",CZ:"CZ[0-9]{2}[0-9]{20}",DE:"DE[0-9]{2}[0-9]{8}[0-9]{10}",DK:"DK[0-9]{2}[0-9]{14}",DO:"DO[0-9]{2}[A-Z0-9]{4}[0-9]{20}",DZ:"DZ[0-9]{2}[0-9]{20}",EE:"EE[0-9]{2}[0-9]{2}[0-9]{2}[0-9]{11}[0-9]{1}",ES:"ES[0-9]{2}[0-9]{4}[0-9]{4}[0-9]{1}[0-9]{1}[0-9]{10}",FI:"FI[0-9]{2}[0-9]{6}[0-9]{7}[0-9]{1}",FO:"FO[0-9]{2}[0-9]{4}[0-9]{9}[0-9]{1}",FR:"FR[0-9]{2}[0-9]{5}[0-9]{5}[A-Z0-9]{11}[0-9]{2}",GB:"GB[0-9]{2}[A-Z]{4}[0-9]{6}[0-9]{8}",GE:"GE[0-9]{2}[A-Z]{2}[0-9]{16}",GI:"GI[0-9]{2}[A-Z]{4}[A-Z0-9]{15}",GL:"GL[0-9]{2}[0-9]{4}[0-9]{9}[0-9]{1}",GR:"GR[0-9]{2}[0-9]{3}[0-9]{4}[A-Z0-9]{16}",GT:"GT[0-9]{2}[A-Z0-9]{4}[A-Z0-9]{20}",HR:"HR[0-9]{2}[0-9]{7}[0-9]{10}",HU:"HU[0-9]{2}[0-9]{3}[0-9]{4}[0-9]{1}[0-9]{15}[0-9]{1}",IE:"IE[0-9]{2}[A-Z]{4}[0-9]{6}[0-9]{8}",IL:"IL[0-9]{2}[0-9]{3}[0-9]{3}[0-9]{13}",IR:"IR[0-9]{2}[0-9]{22}",IS:"IS[0-9]{2}[0-9]{4}[0-9]{2}[0-9]{6}[0-9]{10}",IT:"IT[0-9]{2}[A-Z]{1}[0-9]{5}[0-9]{5}[A-Z0-9]{12}",JO:"JO[0-9]{2}[A-Z]{4}[0-9]{4}[0]{8}[A-Z0-9]{10}",KW:"KW[0-9]{2}[A-Z]{4}[0-9]{22}",KZ:"KZ[0-9]{2}[0-9]{3}[A-Z0-9]{13}",LB:"LB[0-9]{2}[0-9]{4}[A-Z0-9]{20}",LI:"LI[0-9]{2}[0-9]{5}[A-Z0-9]{12}",LT:"LT[0-9]{2}[0-9]{5}[0-9]{11}",LU:"LU[0-9]{2}[0-9]{3}[A-Z0-9]{13}",LV:"LV[0-9]{2}[A-Z]{4}[A-Z0-9]{13}",MC:"MC[0-9]{2}[0-9]{5}[0-9]{5}[A-Z0-9]{11}[0-9]{2}",MD:"MD[0-9]{2}[A-Z0-9]{20}",ME:"ME[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",MG:"MG[0-9]{2}[0-9]{23}",MK:"MK[0-9]{2}[0-9]{3}[A-Z0-9]{10}[0-9]{2}",ML:"ML[0-9]{2}[A-Z]{1}[0-9]{23}",MR:"MR13[0-9]{5}[0-9]{5}[0-9]{11}[0-9]{2}",MT:"MT[0-9]{2}[A-Z]{4}[0-9]{5}[A-Z0-9]{18}",MU:"MU[0-9]{2}[A-Z]{4}[0-9]{2}[0-9]{2}[0-9]{12}[0-9]{3}[A-Z]{3}",MZ:"MZ[0-9]{2}[0-9]{21}",NL:"NL[0-9]{2}[A-Z]{4}[0-9]{10}",NO:"NO[0-9]{2}[0-9]{4}[0-9]{6}[0-9]{1}",PK:"PK[0-9]{2}[A-Z]{4}[A-Z0-9]{16}",PL:"PL[0-9]{2}[0-9]{8}[0-9]{16}",PS:"PS[0-9]{2}[A-Z]{4}[A-Z0-9]{21}",PT:"PT[0-9]{2}[0-9]{4}[0-9]{4}[0-9]{11}[0-9]{2}",QA:"QA[0-9]{2}[A-Z]{4}[A-Z0-9]{21}",RO:"RO[0-9]{2}[A-Z]{4}[A-Z0-9]{16}",RS:"RS[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",SA:"SA[0-9]{2}[0-9]{2}[A-Z0-9]{18}",SE:"SE[0-9]{2}[0-9]{3}[0-9]{16}[0-9]{1}",SI:"SI[0-9]{2}[0-9]{5}[0-9]{8}[0-9]{2}",SK:"SK[0-9]{2}[0-9]{4}[0-9]{6}[0-9]{10}",SM:"SM[0-9]{2}[A-Z]{1}[0-9]{5}[0-9]{5}[A-Z0-9]{12}",SN:"SN[0-9]{2}[A-Z]{1}[0-9]{23}",TL:"TL38[0-9]{3}[0-9]{14}[0-9]{2}",TN:"TN59[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",TR:"TR[0-9]{2}[0-9]{5}[A-Z0-9]{1}[A-Z0-9]{16}",VG:"VG[0-9]{2}[A-Z]{4}[0-9]{16}",XK:"XK[0-9]{2}[0-9]{4}[0-9]{10}[0-9]{2}"},d=["AT","BE","BG","CH","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GI","GR","HR","HU","IE","IS","IT","LI","LT","LU","LV","MC","MT","NL","NO","PL","PT","RO","SE","SI","SK","SM"];return{validate:function(e){if(""===e.value)return{valid:!0};var t=Object.assign({},{message:""},e.options),a=e.value.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),n=t.country||a.substr(0,2);if(!o[n])return{message:t.message,valid:!1};if(void 0!==t.sepa){var r=-1!==d.indexOf(n);if(("true"===t.sepa||!0===t.sepa)&&!r||("false"===t.sepa||!1===t.sepa)&&r)return{message:t.message,valid:!1}}t=k(e.l10n?t.message||e.l10n.iban.country:t.message,e.l10n?e.l10n.iban.countries[n]:n);if(!new RegExp("^".concat(o[n],"$")).test(e.value))return{message:t,valid:!1};a=(a="".concat(a.substr(4)).concat(a.substr(0,4))).split("").map(function(e){var t=e.charCodeAt(0);return t>="A".charCodeAt(0)&&t<="Z".charCodeAt(0)?t-"A".charCodeAt(0)+10:e}).join("");for(var i=parseInt(a.substr(0,1),10),s=a.length,l=1;l<s;++l)i=(10*i+parseInt(a.substr(l,1),10))%97;return{message:t,valid:1===i}}}},id:function(){var l=["AR","BA","BG","BR","CH","CL","CN","CO","CZ","DK","EE","ES","FI","FR","HK","HR","ID","IE","IL","IS","KR","LT","LV","ME","MK","MX","MY","NL","NO","PE","PL","RO","RS","SE","SI","SK","SM","TH","TR","TW","UY","ZA"];return{validate:function(e){if(""===e.value)return{valid:!0};var t=Object.assign({},{message:""},e.options),a=e.value.substr(0,2),a="function"==typeof t.country?t.country.call(this):t.country;if(-1===l.indexOf(a))return{valid:!0};var n,r,i,s={meta:{},valid:!0};switch(a.toLowerCase()){case"ar":i=(i=e.value).replace(/\./g,""),s={meta:{},valid:/^\d{7,8}$/.test(i)};break;case"ba":s={meta:{},valid:A(e.value,"BA")};break;case"bg":s=function(e){if(!/^\d{10}$/.test(e)&&!/^\d{6}\s\d{3}\s\d{1}$/.test(e))return{meta:{},valid:!1};var t=e.replace(/\s/g,""),a=parseInt(t.substr(0,2),10)+1900;if(40<(e=parseInt(t.substr(2,2),10))?(a+=100,e-=40):20<e&&(a-=100,e-=20),!E(a,e,parseInt(t.substr(4,2),10)))return{meta:{},valid:!1};for(var n=0,r=[2,4,8,5,10,9,7,3,6],i=0;i<9;i++)n+=parseInt(t.charAt(i),10)*r[i];return{meta:{},valid:"".concat(n=n%11%10)===t.substr(9,1)}}(e.value);break;case"br":s=function(e){var t=e.replace(/\D/g,"");if(!/^\d{11}$/.test(t)||/^1{11}|2{11}|3{11}|4{11}|5{11}|6{11}|7{11}|8{11}|9{11}|0{11}$/.test(t))return{meta:{},valid:!1};for(var a=0,n=0;n<9;n++)a+=(10-n)*parseInt(t.charAt(n),10);if(10!==(a=11-a%11)&&11!==a||(a=0),"".concat(a)!==t.charAt(9))return{meta:{},valid:!1};var r=0;for(n=0;n<10;n++)r+=(11-n)*parseInt(t.charAt(n),10);return 10!==(r=11-r%11)&&11!==r||(r=0),{meta:{},valid:"".concat(r)===t.charAt(10)}}(e.value);break;case"ch":s=function(e){if(!/^756[\.]{0,1}[0-9]{4}[\.]{0,1}[0-9]{4}[\.]{0,1}[0-9]{2}$/.test(e))return{meta:{},valid:!1};for(var t=e.replace(/\D/g,"").substr(3),a=t.length,n=8===a?[3,1]:[1,3],r=0,i=0;i<a-1;i++)r+=parseInt(t.charAt(i),10)*n[i%2];return{meta:{},valid:"".concat(r=10-r%10)===t.charAt(a-1)}}(e.value);break;case"cl":s=function(e){if(!/^\d{7,8}[-]{0,1}[0-9K]$/i.test(e))return{meta:{},valid:!1};for(var t=e.replace(/\-/g,"");t.length<9;)t="0".concat(t);for(var a=[3,2,7,6,5,4,3,2],n=0,r=0;r<8;r++)n+=parseInt(t.charAt(r),10)*a[r];return e="".concat(n=11-n%11),11===n?e="0":10===n&&(e="K"),{meta:{},valid:e===t.charAt(8).toUpperCase()}}(e.value);break;case"cn":s=function(e){var t=e.trim();if(!/^\d{15}$/.test(t)&&!/^\d{17}[\dXx]{1}$/.test(t))return{meta:{},valid:!1};var a={11:{0:[0],1:[[0,9],[11,17]],2:[0,28,29]},12:{0:[0],1:[[0,16]],2:[0,21,23,25]},13:{0:[0],1:[[0,5],7,8,21,[23,33],[81,85]],2:[[0,5],[7,9],[23,25],27,29,30,81,83],3:[[0,4],[21,24]],4:[[0,4],6,21,[23,35],81],5:[[0,3],[21,35],81,82],6:[[0,4],[21,38],[81,84]],7:[[0,3],5,6,[21,33]],8:[[0,4],[21,28]],9:[[0,3],[21,30],[81,84]],10:[[0,3],[22,26],28,81,82],11:[[0,2],[21,28],81,82]},14:{0:[0],1:[0,1,[5,10],[21,23],81],2:[[0,3],11,12,[21,27]],3:[[0,3],11,21,22],4:[[0,2],11,21,[23,31],81],5:[[0,2],21,22,24,25,81],6:[[0,3],[21,24]],7:[[0,2],[21,29],81],8:[[0,2],[21,30],81,82],9:[[0,2],[21,32],81],10:[[0,2],[21,34],81,82],11:[[0,2],[21,30],81,82],23:[[0,3],22,23,[25,30],32,33]},15:{0:[0],1:[[0,5],[21,25]],2:[[0,7],[21,23]],3:[[0,4]],4:[[0,4],[21,26],[28,30]],5:[[0,2],[21,26],81],6:[[0,2],[21,27]],7:[[0,3],[21,27],[81,85]],8:[[0,2],[21,26]],9:[[0,2],[21,29],81],22:[[0,2],[21,24]],25:[[0,2],[22,31]],26:[[0,2],[24,27],[29,32],34],28:[0,1,[22,27]],29:[0,[21,23]]},21:{0:[0],1:[[0,6],[11,14],[22,24],81],2:[[0,4],[11,13],24,[81,83]],3:[[0,4],11,21,23,81],4:[[0,4],11,[21,23]],5:[[0,5],21,22],6:[[0,4],24,81,82],7:[[0,3],11,26,27,81,82],8:[[0,4],11,81,82],9:[[0,5],11,21,22],10:[[0,5],11,21,81],11:[[0,3],21,22],12:[[0,2],4,21,23,24,81,82],13:[[0,3],21,22,24,81,82],14:[[0,4],21,22,81]},22:{0:[0],1:[[0,6],12,22,[81,83]],2:[[0,4],11,21,[81,84]],3:[[0,3],22,23,81,82],4:[[0,3],21,22],5:[[0,3],21,23,24,81,82],6:[[0,2],4,5,[21,23],25,81],7:[[0,2],[21,24],81],8:[[0,2],21,22,81,82],24:[[0,6],24,26]},23:{0:[0],1:[[0,12],21,[23,29],[81,84]],2:[[0,8],21,[23,25],27,[29,31],81],3:[[0,7],21,81,82],4:[[0,7],21,22],5:[[0,3],5,6,[21,24]],6:[[0,6],[21,24]],7:[[0,16],22,81],8:[[0,5],11,22,26,28,33,81,82],9:[[0,4],21],10:[[0,5],24,25,81,[83,85]],11:[[0,2],21,23,24,81,82],12:[[0,2],[21,26],[81,83]],27:[[0,4],[21,23]]},31:{0:[0],1:[0,1,[3,10],[12,20]],2:[0,30]},32:{0:[0],1:[[0,7],11,[13,18],24,25],2:[[0,6],11,81,82],3:[[0,5],11,12,[21,24],81,82],4:[[0,2],4,5,11,12,81,82],5:[[0,9],[81,85]],6:[[0,2],11,12,21,23,[81,84]],7:[0,1,3,5,6,[21,24]],8:[[0,4],11,26,[29,31]],9:[[0,3],[21,25],28,81,82],10:[[0,3],11,12,23,81,84,88],11:[[0,2],11,12,[81,83]],12:[[0,4],[81,84]],13:[[0,2],11,[21,24]]},33:{0:[0],1:[[0,6],[8,10],22,27,82,83,85],2:[0,1,[3,6],11,12,25,26,[81,83]],3:[[0,4],22,24,[26,29],81,82],4:[[0,2],11,21,24,[81,83]],5:[[0,3],[21,23]],6:[[0,2],21,24,[81,83]],7:[[0,3],23,26,27,[81,84]],8:[[0,3],22,24,25,81],9:[[0,3],21,22],10:[[0,4],[21,24],81,82],11:[[0,2],[21,27],81]},34:{0:[0],1:[[0,4],11,[21,24],81],2:[[0,4],7,8,[21,23],25],3:[[0,4],11,[21,23]],4:[[0,6],21],5:[[0,4],6,[21,23]],6:[[0,4],21],7:[[0,3],11,21],8:[[0,3],11,[22,28],81],10:[[0,4],[21,24]],11:[[0,3],22,[24,26],81,82],12:[[0,4],21,22,25,26,82],13:[[0,2],[21,24]],14:[[0,2],[21,24]],15:[[0,3],[21,25]],16:[[0,2],[21,23]],17:[[0,2],[21,23]],18:[[0,2],[21,25],81]},35:{0:[0],1:[[0,5],11,[21,25],28,81,82],2:[[0,6],[11,13]],3:[[0,5],22],4:[[0,3],21,[23,30],81],5:[[0,5],21,[24,27],[81,83]],6:[[0,3],[22,29],81],7:[[0,2],[21,25],[81,84]],8:[[0,2],[21,25],81],9:[[0,2],[21,26],81,82]},36:{0:[0],1:[[0,5],11,[21,24]],2:[[0,3],22,81],3:[[0,2],13,[21,23]],4:[[0,3],21,[23,30],81,82],5:[[0,2],21],6:[[0,2],22,81],7:[[0,2],[21,35],81,82],8:[[0,3],[21,30],81],9:[[0,2],[21,26],[81,83]],10:[[0,2],[21,30]],11:[[0,2],[21,30],81]},37:{0:[0],1:[[0,5],12,13,[24,26],81],2:[[0,3],5,[11,14],[81,85]],3:[[0,6],[21,23]],4:[[0,6],81],5:[[0,3],[21,23]],6:[[0,2],[11,13],34,[81,87]],7:[[0,5],24,25,[81,86]],8:[[0,2],11,[26,32],[81,83]],9:[[0,3],11,21,23,82,83],10:[[0,2],[81,83]],11:[[0,3],21,22],12:[[0,3]],13:[[0,2],11,12,[21,29]],14:[[0,2],[21,28],81,82],15:[[0,2],[21,26],81],16:[[0,2],[21,26]],17:[[0,2],[21,28]]},41:{0:[0],1:[[0,6],8,22,[81,85]],2:[[0,5],11,[21,25]],3:[[0,7],11,[22,29],81],4:[[0,4],11,[21,23],25,81,82],5:[[0,3],5,6,22,23,26,27,81],6:[[0,3],11,21,22],7:[[0,4],11,21,[24,28],81,82],8:[[0,4],11,[21,23],25,[81,83]],9:[[0,2],22,23,[26,28]],10:[[0,2],[23,25],81,82],11:[[0,4],[21,23]],12:[[0,2],21,22,24,81,82],13:[[0,3],[21,30],81],14:[[0,3],[21,26],81],15:[[0,3],[21,28]],16:[[0,2],[21,28],81],17:[[0,2],[21,29]],90:[0,1]},42:{0:[0],1:[[0,7],[11,17]],2:[[0,5],22,81],3:[[0,3],[21,25],81],5:[[0,6],[25,29],[81,83]],6:[[0,2],6,7,[24,26],[82,84]],7:[[0,4]],8:[[0,2],4,21,22,81],9:[[0,2],[21,23],81,82,84],10:[[0,3],[22,24],81,83,87],11:[[0,2],[21,27],81,82],12:[[0,2],[21,24],81],13:[[0,3],21,81],28:[[0,2],22,23,[25,28]],90:[0,[4,6],21]},43:{0:[0],1:[[0,5],11,12,21,22,24,81],2:[[0,4],11,21,[23,25],81],3:[[0,2],4,21,81,82],4:[0,1,[5,8],12,[21,24],26,81,82],5:[[0,3],11,[21,25],[27,29],81],6:[[0,3],11,21,23,24,26,81,82],7:[[0,3],[21,26],81],8:[[0,2],11,21,22],9:[[0,3],[21,23],81],10:[[0,3],[21,28],81],11:[[0,3],[21,29]],12:[[0,2],[21,30],81],13:[[0,2],21,22,81,82],31:[0,1,[22,27],30]},44:{0:[0],1:[[0,7],[11,16],83,84],2:[[0,5],21,22,24,29,32,33,81,82],3:[0,1,[3,8]],4:[[0,4]],5:[0,1,[6,15],23,82,83],6:[0,1,[4,8]],7:[0,1,[3,5],81,[83,85]],8:[[0,4],11,23,25,[81,83]],9:[[0,3],23,[81,83]],12:[[0,3],[23,26],83,84],13:[[0,3],[22,24],81],14:[[0,2],[21,24],26,27,81],15:[[0,2],21,23,81],16:[[0,2],[21,25]],17:[[0,2],21,23,81],18:[[0,3],21,23,[25,27],81,82],19:[0],20:[0],51:[[0,3],21,22],52:[[0,3],21,22,24,81],53:[[0,2],[21,23],81]},45:{0:[0],1:[[0,9],[21,27]],2:[[0,5],[21,26]],3:[[0,5],11,12,[21,32]],4:[0,1,[3,6],11,[21,23],81],5:[[0,3],12,21],6:[[0,3],21,81],7:[[0,3],21,22],8:[[0,4],21,81],9:[[0,3],[21,24],81],10:[[0,2],[21,31]],11:[[0,2],[21,23]],12:[[0,2],[21,29],81],13:[[0,2],[21,24],81],14:[[0,2],[21,25],81]},46:{0:[0],1:[0,1,[5,8]],2:[0,1],3:[0,[21,23]],90:[[0,3],[5,7],[21,39]]},50:{0:[0],1:[[0,19]],2:[0,[22,38],[40,43]],3:[0,[81,84]]},51:{0:[0],1:[0,1,[4,8],[12,15],[21,24],29,31,32,[81,84]],3:[[0,4],11,21,22],4:[[0,3],11,21,22],5:[[0,4],21,22,24,25],6:[0,1,3,23,26,[81,83]],7:[0,1,3,4,[22,27],81],8:[[0,2],11,12,[21,24]],9:[[0,4],[21,23]],10:[[0,2],11,24,25,28],11:[[0,2],[11,13],23,24,26,29,32,33,81],13:[[0,4],[21,25],81],14:[[0,2],[21,25]],15:[[0,3],[21,29]],16:[[0,3],[21,23],81],17:[[0,3],[21,25],81],18:[[0,3],[21,27]],19:[[0,3],[21,23]],20:[[0,2],21,22,81],32:[0,[21,33]],33:[0,[21,38]],34:[0,1,[22,37]]},52:{0:[0],1:[[0,3],[11,15],[21,23],81],2:[0,1,3,21,22],3:[[0,3],[21,30],81,82],4:[[0,2],[21,25]],5:[[0,2],[21,27]],6:[[0,3],[21,28]],22:[0,1,[22,30]],23:[0,1,[22,28]],24:[0,1,[22,28]],26:[0,1,[22,36]],27:[[0,2],22,23,[25,32]]},53:{0:[0],1:[[0,3],[11,14],21,22,[24,29],81],3:[[0,2],[21,26],28,81],4:[[0,2],[21,28]],5:[[0,2],[21,24]],6:[[0,2],[21,30]],7:[[0,2],[21,24]],8:[[0,2],[21,29]],9:[[0,2],[21,27]],23:[0,1,[22,29],31],25:[[0,4],[22,32]],26:[0,1,[21,28]],27:[0,1,[22,30]],28:[0,1,22,23],29:[0,1,[22,32]],31:[0,2,3,[22,24]],34:[0,[21,23]],33:[0,21,[23,25]],35:[0,[21,28]]},54:{0:[0],1:[[0,2],[21,27]],21:[0,[21,29],32,33],22:[0,[21,29],[31,33]],23:[0,1,[22,38]],24:[0,[21,31]],25:[0,[21,27]],26:[0,[21,27]]},61:{0:[0],1:[[0,4],[11,16],22,[24,26]],2:[[0,4],22],3:[[0,4],[21,24],[26,31]],4:[[0,4],[22,31],81],5:[[0,2],[21,28],81,82],6:[[0,2],[21,32]],7:[[0,2],[21,30]],8:[[0,2],[21,31]],9:[[0,2],[21,29]],10:[[0,2],[21,26]]},62:{0:[0],1:[[0,5],11,[21,23]],2:[0,1],3:[[0,2],21],4:[[0,3],[21,23]],5:[[0,3],[21,25]],6:[[0,2],[21,23]],7:[[0,2],[21,25]],8:[[0,2],[21,26]],9:[[0,2],[21,24],81,82],10:[[0,2],[21,27]],11:[[0,2],[21,26]],12:[[0,2],[21,28]],24:[0,21,[24,29]],26:[0,21,[23,30]],29:[0,1,[21,27]],30:[0,1,[21,27]]},63:{0:[0],1:[[0,5],[21,23]],2:[0,2,[21,25]],21:[0,[21,23],[26,28]],22:[0,[21,24]],23:[0,[21,24]],25:[0,[21,25]],26:[0,[21,26]],27:[0,1,[21,26]],28:[[0,2],[21,23]]},64:{0:[0],1:[0,1,[4,6],21,22,81],2:[[0,3],5,[21,23]],3:[[0,3],[21,24],81],4:[[0,2],[21,25]],5:[[0,2],21,22]},65:{0:[0],1:[[0,9],21],2:[[0,5]],21:[0,1,22,23],22:[0,1,22,23],23:[[0,3],[23,25],27,28],28:[0,1,[22,29]],29:[0,1,[22,29]],30:[0,1,[22,24]],31:[0,1,[21,31]],32:[0,1,[21,27]],40:[0,2,3,[21,28]],42:[[0,2],21,[23,26]],43:[0,1,[21,26]],90:[[0,4]],27:[[0,2],22,23]},71:{0:[0]},81:{0:[0]},82:{0:[0]}},n=parseInt(t.substr(0,2),10),e=parseInt(t.substr(2,2),10),r=parseInt(t.substr(4,2),10);if(!a[n]||!a[n][e])return{meta:{},valid:!1};var i=!1,s=a[n][e];for(d=0;d<s.length;d++)if(Array.isArray(s[d])&&s[d][0]<=r&&r<=s[d][1]||!Array.isArray(s[d])&&r===s[d]){i=!0;break}if(!i)return{meta:{},valid:!1};if(e=18===t.length?t.substr(6,8):"19".concat(t.substr(6,6)),!E(parseInt(e.substr(0,4),10),parseInt(e.substr(4,2),10),parseInt(e.substr(6,2),10)))return{meta:{},valid:!1};if(18!==t.length)return{meta:{},valid:!0};for(var l=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],o=0,d=0;d<17;d++)o+=parseInt(t.charAt(d),10)*l[d];return o=(12-o%11)%11,{meta:{},valid:("X"!==t.charAt(17).toUpperCase()?parseInt(t.charAt(17),10):10)===o}}(e.value);break;case"co":s=function(e){var t=e.replace(/\./g,"").replace("-","");if(!/^\d{8,16}$/.test(t))return{meta:{},valid:!1};for(var e=t.length,a=[3,7,13,17,19,23,29,37,41,43,47,53,59,67,71],n=0,r=e-2;0<=r;r--)n+=parseInt(t.charAt(r),10)*a[r];return 2<=(n%=11)&&(n=11-n),{meta:{},valid:"".concat(n)===t.substr(e-1)}}(e.value);break;case"cz":s=I(e.value);break;case"dk":s=function(e){if(!/^[0-9]{6}[-]{0,1}[0-9]{4}$/.test(e))return{meta:{},valid:!1};var t=e.replace(/-/g,""),a=parseInt(t.substr(0,2),10),e=parseInt(t.substr(2,2),10),n=parseInt(t.substr(4,2),10);switch(!0){case-1!=="5678".indexOf(t.charAt(6))&&58<=n:n+=1800;break;case-1!=="0123".indexOf(t.charAt(6)):case-1!=="49".indexOf(t.charAt(6))&&37<=n:n+=1900;break;default:n+=2e3}return{meta:{},valid:E(n,e,a)}}(e.value);break;case"ee":s=C(e.value);break;case"es":s=function(e){var t=/^[0-9]{8}[-]{0,1}[A-HJ-NP-TV-Z]$/.test(e),a=/^[XYZ][-]{0,1}[0-9]{7}[-]{0,1}[A-HJ-NP-TV-Z]$/.test(e),n=/^[A-HNPQS][-]{0,1}[0-9]{7}[-]{0,1}[0-9A-J]$/.test(e);if(!t&&!a&&!n)return{meta:{},valid:!1};var r,i,e=e.replace(/-/g,"");if(t||a){i="DNI";var s="XYZ".indexOf(e.charAt(0));return-1!==s&&(e=s+e.substr(1)+"",i="NIE"),{meta:{type:i},valid:(r="TRWAGMYFPDXBNJZSQVHLCKE"[(r=parseInt(e.substr(0,8),10))%23])===e.substr(8,1)}}r=e.substr(1,7),i="CIF";for(var l,a=e[0],s=e.substr(-1),o=0,d=0;d<r.length;d++)d%2!=0?o+=parseInt(r[d],10):(l=""+2*parseInt(r[d],10),o+=parseInt(l[0],10),2===l.length&&(o+=parseInt(l[1],10)));return 0!==(e=o-10*Math.floor(o/10))&&(e=10-e),{meta:{type:i},valid:-1!=="KQS".indexOf(a)?s==="JABCDEFGHI"[e]:-1!=="ABEH".indexOf(a)?s===""+e:s===""+e||s==="JABCDEFGHI"[e]}}(e.value);break;case"fi":s=function(e){if(!/^[0-9]{6}[-+A][0-9]{3}[0-9ABCDEFHJKLMNPRSTUVWXY]$/.test(e))return{meta:{},valid:!1};var t=parseInt(e.substr(0,2),10),a=parseInt(e.substr(2,2),10),n=parseInt(e.substr(4,2),10);return!E(n={"+":1800,"-":1900,A:2e3}[e.charAt(6)]+n,a,t)||parseInt(e.substr(7,3),10)<2?{meta:{},valid:!1}:(t=parseInt(e.substr(0,6)+e.substr(7,3)+"",10),{meta:{},valid:"0123456789ABCDEFHJKLMNPRSTUVWXY".charAt(t%31)===e.charAt(10)})}(e.value);break;case"fr":s=function(e){var t=e.toUpperCase();if(!/^(1|2)\d{2}\d{2}(\d{2}|\d[A-Z]|\d{3})\d{2,3}\d{3}\d{2}$/.test(t))return{meta:{},valid:!1};var a=t.substr(5,2);switch(!0){case/^\d{2}$/.test(a):t=e;break;case"2A"===a:t="".concat(e.substr(0,5),"19").concat(e.substr(7));break;case"2B"===a:t="".concat(e.substr(0,5),"18").concat(e.substr(7));break;default:return{meta:{},valid:!1}}return{meta:{},valid:((a=97-parseInt(t.substr(0,13),10)%97)<10?"0":"").concat(a)===t.substr(13)}}(e.value);break;case"hk":s=function(e){var t=e.toUpperCase();if(!/^[A-MP-Z]{1,2}[0-9]{6}[0-9A]$/.test(t))return{meta:{},valid:!1};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=t.charAt(0),e=t.charAt(1),r=0,i=t,s=(i=/^[A-Z]$/.test(e)?(r+=9*(10+a.indexOf(n)),r+=8*(10+a.indexOf(e)),t.substr(2)):(r+=324,r+=8*(10+a.indexOf(n)),t.substr(1))).length,l=0;l<s-1;l++)r+=(7-l)*parseInt(i.charAt(l),10);return{meta:{},valid:(0==(t=r%11)?"0":11-t==10?"A":"".concat(11-t))===i.charAt(s-1)}}(e.value);break;case"hr":i=e.value,s={meta:{},valid:/^[0-9]{11}$/.test(i)&&h(i)};break;case"id":r=e.value,s=/^[2-9]\d{11}$/.test(r)?{meta:{},valid:o(r.split("").map(function(e){return parseInt(e,10)}))}:{meta:{},valid:!1};break;case"ie":s=y(e.value);break;case"il":r=e.value,s=/^\d{1,9}$/.test(r)?{meta:{},valid:f(r)}:{meta:{},valid:!1};break;case"is":s=function(e){if(!/^[0-9]{6}[-]{0,1}[0-9]{4}$/.test(e))return{meta:{},valid:!1};var t=e.replace(/-/g,""),a=parseInt(t.substr(0,2),10),n=parseInt(t.substr(2,2),10),r=parseInt(t.substr(4,2),10),e=parseInt(t.charAt(9),10);if(!E(r=9===e?1900+r:100*(20+e)+r,n,a,!0))return{meta:{},valid:!1};for(var i=[3,2,7,6,5,4,3,2],s=0,l=0;l<8;l++)s+=parseInt(t.charAt(l),10)*i[l];return{meta:{},valid:"".concat(s=11-s%11)===t.charAt(8)}}(e.value);break;case"kr":s=function(e){var t=e.replace("-","");if(!/^\d{13}$/.test(t))return{meta:{},valid:!1};var a=t.charAt(6),n=parseInt(t.substr(0,2),10),r=parseInt(t.substr(2,2),10),e=parseInt(t.substr(4,2),10);switch(a){case"1":case"2":case"5":case"6":n+=1900;break;case"3":case"4":case"7":case"8":n+=2e3;break;default:n+=1800}if(!E(n,r,e))return{meta:{},valid:!1};for(var i=[2,3,4,5,6,7,8,9,2,3,4,5],s=t.length,l=0,o=0;o<s-1;o++)l+=i[o]*parseInt(t.charAt(o),10);return{meta:{},valid:"".concat((11-l%11)%10)===t.charAt(s-1)}}(e.value);break;case"lt":s=C(e.value);break;case"lv":s=function(e){if(!/^[0-9]{6}[-]{0,1}[0-9]{5}$/.test(e))return{meta:{},valid:!1};var t=e.replace(/\D/g,""),a=parseInt(t.substr(0,2),10),e=parseInt(t.substr(2,2),10);if(!E(parseInt(t.substr(4,2),10)+1800+100*parseInt(t.charAt(6),10),e,a,!0))return{meta:{},valid:!1};for(var n=0,r=[10,5,8,4,2,1,6,3,7,9],i=0;i<10;i++)n+=parseInt(t.charAt(i),10)*r[i];return{meta:{},valid:"".concat(n=(n+1)%11%10)===t.charAt(10)}}(e.value);break;case"me":s={meta:{},valid:A(e.value,"ME")};break;case"mk":s={meta:{},valid:A(e.value,"MK")};break;case"mx":s=function(e){var t=e.toUpperCase();if(!/^[A-Z]{4}\d{6}[A-Z]{6}[0-9A-Z]\d$/.test(t))return{meta:{},valid:!1};var a=t.substr(0,4);if(0<=["BACA","BAKA","BUEI","BUEY","CACA","CACO","CAGA","CAGO","CAKA","CAKO","COGE","COGI","COJA","COJE","COJI","COJO","COLA","CULO","FALO","FETO","GETA","GUEI","GUEY","JETA","JOTO","KACA","KACO","KAGA","KAGO","KAKA","KAKO","KOGE","KOGI","KOJA","KOJE","KOJI","KOJO","KOLA","KULO","LILO","LOCA","LOCO","LOKA","LOKO","MAME","MAMO","MEAR","MEAS","MEON","MIAR","MION","MOCO","MOKO","MULA","MULO","NACA","NACO","PEDA","PEDO","PENE","PIPI","PITO","POPO","PUTA","PUTO","QULO","RATA","ROBA","ROBE","ROBO","RUIN","SENO","TETA","VACA","VAGA","VAGO","VAKA","VUEI","VUEY","WUEI","WUEY"].indexOf(a))return{meta:{},valid:!1};var n=parseInt(t.substr(4,2),10),e=parseInt(t.substr(6,2),10),a=parseInt(t.substr(6,2),10);if(/^[0-9]$/.test(t.charAt(16))?n+=1900:n+=2e3,!E(n,e,a))return{meta:{},valid:!1};if("H"!==(a=t.charAt(10))&&"M"!==a)return{meta:{},valid:!1};if(a=t.substr(11,2),-1===["AS","BC","BS","CC","CH","CL","CM","CS","DF","DG","GR","GT","HG","JC","MC","MN","MS","NE","NL","NT","OC","PL","QR","QT","SL","SP","SR","TC","TL","TS","VZ","YN","ZS"].indexOf(a))return{meta:{},valid:!1};for(var r=0,i=t.length,s=0;s<i-1;s++)r+=(18-s)*"0123456789ABCDEFGHIJKLMN&OPQRSTUVWXYZ".indexOf(t.charAt(s));return{meta:{},valid:"".concat(r=(10-r%10)%10)===t.charAt(i-1)}}(e.value);break;case"my":s=function(e){if(!/^\d{12}$/.test(e))return{meta:{},valid:!1};var t=parseInt(e.substr(0,2),10),a=parseInt(e.substr(2,2),10),n=parseInt(e.substr(4,2),10);return E(t+1900,a,n)||E(t+2e3,a,n)?(e=e.substr(6,2),{meta:{},valid:-1===["17","18","19","20","69","70","73","80","81","94","95","96","97"].indexOf(e)}):{meta:{},valid:!1}}(e.value);break;case"nl":s=function(e){if(e.length<8)return{meta:{},valid:!1};var t=e;if(8===t.length&&(t="0".concat(t)),!/^[0-9]{4}[.]{0,1}[0-9]{2}[.]{0,1}[0-9]{3}$/.test(t))return{meta:{},valid:!1};if(t=t.replace(/\./g,""),0===parseInt(t,10))return{meta:{},valid:!1};for(var a=0,n=t.length,r=0;r<n-1;r++)a+=(9-r)*parseInt(t.charAt(r),10);return 10===(a%=11)&&(a=0),{meta:{},valid:"".concat(a)===t.charAt(n-1)}}(e.value);break;case"no":n=e.value,s=/^\d{11}$/.test(n)?{meta:{},valid:"".concat(function(e){for(var t=[3,7,6,1,8,9,4,5,2],a=0,n=0;n<9;n++)a+=t[n]*parseInt(e.charAt(n),10);return 11-a%11}(n))===n.substr(-2,1)&&"".concat(function(e){for(var t=[5,4,3,2,7,6,5,4,3,2],a=0,n=0;n<10;n++)a+=t[n]*parseInt(e.charAt(n),10);return 11-a%11}(n))===n.substr(-1)}:{meta:{},valid:!1};break;case"pe":s=function(e){if(!/^\d{8}[0-9A-Z]*$/.test(e))return{meta:{},valid:!1};if(8===e.length)return{meta:{},valid:!0};for(var t=[3,2,7,6,5,4,3,2],a=0,n=0;n<8;n++)a+=t[n]*parseInt(e.charAt(n),10);var r=[6,5,4,3,2,1,1,0,9,8,7][i=a%11],i="KJIHGFEDCBA".charAt(i);return{meta:{},valid:e.charAt(8)==="".concat(r)||e.charAt(8)===i}}(e.value);break;case"pl":s=function(e){if(!/^[0-9]{11}$/.test(e))return{meta:{},valid:!1};for(var t=0,a=e.length,n=[1,3,7,9,1,3,7,9,1,3,7],r=0;r<a-1;r++)t+=n[r]*parseInt(e.charAt(r),10);return 0===(t%=10)&&(t=10),{meta:{},valid:"".concat(t=10-t)===e.charAt(a-1)}}(e.value);break;case"ro":s=function(e){if(!/^[0-9]{13}$/.test(e))return{meta:{},valid:!1};var t=parseInt(e.charAt(0),10);if(0===t||7===t||8===t)return{meta:{},valid:!1};var a=parseInt(e.substr(1,2),10),n=parseInt(e.substr(3,2),10),r=parseInt(e.substr(5,2),10);if(31<r&&12<n)return{meta:{},valid:!1};if(9!==t&&!E({1:1900,2:1900,3:1800,4:1800,5:2e3,6:2e3}[t+""]+a,n,r))return{meta:{},valid:!1};for(var i=0,s=[2,7,9,1,4,6,3,5,8,2,7,9],l=e.length,o=0;o<l-1;o++)i+=parseInt(e.charAt(o),10)*s[o];return 10===(i%=11)&&(i=1),{meta:{},valid:"".concat(i)===e.charAt(l-1)}}(e.value);break;case"rs":s={meta:{},valid:A(e.value,"RS")};break;case"se":n=e.value,s=/^[0-9]{10}$/.test(n)||/^[0-9]{6}[-|+][0-9]{4}$/.test(n)?(n=n.replace(/[^0-9]/g,""),E(parseInt(n.substr(0,2),10)+1900,parseInt(n.substr(2,2),10),parseInt(n.substr(4,2),10))?{meta:{},valid:f(n)}:{meta:{},valid:!1}):{meta:{},valid:!1};break;case"si":s={meta:{},valid:A(e.value,"SI")};break;case"sk":s=I(e.value);break;case"sm":s={meta:{},valid:/^\d{5}$/.test(e.value)};break;case"th":s=function(e){if(13!==e.length)return{meta:{},valid:!1};for(var t=0,a=0;a<12;a++)t+=parseInt(e.charAt(a),10)*(13-a);return{meta:{},valid:(11-t%11)%10===parseInt(e.charAt(12),10)}}(e.value);break;case"tr":s=function(e){if(11!==e.length)return{meta:{},valid:!1};for(var t=0,a=0;a<10;a++)t+=parseInt(e.charAt(a),10);return{meta:{},valid:t%10===parseInt(e.charAt(10),10)}}(e.value);break;case"tw":s=function(e){var t=e.toUpperCase();if(!/^[A-Z][12][0-9]{8}$/.test(t))return{meta:{},valid:!1};for(var a=t.length,e="ABCDEFGHJKLMNPQRSTUVXYWZIO".indexOf(t.charAt(0))+10,e=Math.floor(e/10)+e%10*(a-1),n=0,r=1;r<a-1;r++)n+=parseInt(t.charAt(r),10)*(a-1-r);return{meta:{},valid:(e+n+parseInt(t.charAt(a-1),10))%10==0}}(e.value);break;case"uy":s=function(e){if(!/^\d{8}$/.test(e))return{meta:{},valid:!1};for(var t=[2,9,8,7,6,3,4],a=0,n=0;n<7;n++)a+=parseInt(e.charAt(n),10)*t[n];return 0<(a%=10)&&(a=10-a),{meta:{},valid:"".concat(a)===e.charAt(7)}}(e.value);break;case"za":s=function(e){if(!/^[0-9]{10}[0|1][8|9][0-9]$/.test(e))return{meta:{},valid:!1};var t=parseInt(e.substr(0,2),10);return E(t=(new Date).getFullYear()%100<=t?t+1900:t+2e3,parseInt(e.substr(2,2),10),parseInt(e.substr(4,2),10))?{meta:{},valid:f(e)}:{meta:{},valid:!1}}(e.value)}a=k(e.l10n?t.message||e.l10n.id.country:t.message,e.l10n?e.l10n.id.countries[a.toUpperCase()]:a.toUpperCase());return Object.assign({},{message:a},s)}}},imei:function(){return{validate:function(e){if(""===e.value)return{valid:!0};switch(!0){case/^\d{15}$/.test(e.value):case/^\d{2}-\d{6}-\d{6}-\d{1}$/.test(e.value):case/^\d{2}\s\d{6}\s\d{6}\s\d{1}$/.test(e.value):return{valid:f(e.value.replace(/[^0-9]/g,""))};case/^\d{14}$/.test(e.value):case/^\d{16}$/.test(e.value):case/^\d{2}-\d{6}-\d{6}(|-\d{2})$/.test(e.value):case/^\d{2}\s\d{6}\s\d{6}(|\s\d{2})$/.test(e.value):return{valid:!0};default:return{valid:!1}}}}},imo:function(){return{validate:function(e){if(""===e.value)return{valid:!0};if(!/^IMO \d{7}$/i.test(e.value))return{valid:!1};for(var t=e.value.replace(/^.*(\d{7})$/,"$1"),a=0,n=6;1<=n;n--)a+=parseInt(t.slice(6-n,-n),10)*(n+1);return{valid:a%10===parseInt(t.charAt(6),10)}}}},isbn:function(){return{validate:function(e){if(""===e.value)return{meta:{type:null},valid:!0};var t;switch(!0){case/^\d{9}[\dX]$/.test(e.value):case 13===e.value.length&&/^(\d+)-(\d+)-(\d+)-([\dX])$/.test(e.value):case 13===e.value.length&&/^(\d+)\s(\d+)\s(\d+)\s([\dX])$/.test(e.value):t="ISBN10";break;case/^(978|979)\d{9}[\dX]$/.test(e.value):case 17===e.value.length&&/^(978|979)-(\d+)-(\d+)-(\d+)-([\dX])$/.test(e.value):case 17===e.value.length&&/^(978|979)\s(\d+)\s(\d+)\s(\d+)\s([\dX])$/.test(e.value):t="ISBN13";break;default:return{meta:{type:null},valid:!1}}var a,n,r=e.value.replace(/[^0-9X]/gi,"").split(""),i=r.length,s=0;switch(t){case"ISBN10":for(a=s=0;a<i-1;a++)s+=parseInt(r[a],10)*(10-a);return 11===(n=11-s%11)?n=0:10===n&&(n="X"),{meta:{type:t},valid:"".concat(n)===r[i-1]};case"ISBN13":for(a=s=0;a<i-1;a++)s+=a%2==0?parseInt(r[a],10):3*parseInt(r[a],10);return 10===(n=10-s%10)&&(n="0"),{meta:{type:t},valid:"".concat(n)===r[i-1]}}}}},isin:function(){return{validate:function(e){if(""===e.value)return{valid:!0};var t=e.value.toUpperCase();if(!new RegExp("^(AF|AX|AL|DZ|AS|AD|AO|AI|AQ|AG|AR|AM|AW|AU|AT|AZ|BS|BH|BD|BB|BY|BE|BZ|BJ|BM|BT|BO|BQ|BA|BW|BV|BR|IO|BN|BG|BF|BI|KH|CM|CA|CV|KY|CF|TD|CL|CN|CX|CC|CO|KM|CG|CD|CK|CR|CI|HR|CU|CW|CY|CZ|DK|DJ|DM|DO|EC|EG|SV|GQ|ER|EE|ET|FK|FO|FJ|FI|FR|GF|PF|TF|GA|GM|GE|DE|GH|GI|GR|GL|GD|GP|GU|GT|GG|GN|GW|GY|HT|HM|VA|HN|HK|HU|IS|IN|ID|IR|IQ|IE|IM|IL|IT|JM|JP|JE|JO|KZ|KE|KI|KP|KR|KW|KG|LA|LV|LB|LS|LR|LY|LI|LT|LU|MO|MK|MG|MW|MY|MV|ML|MT|MH|MQ|MR|MU|YT|MX|FM|MD|MC|MN|ME|MS|MA|MZ|MM|NA|NR|NP|NL|NC|NZ|NI|NE|NG|NU|NF|MP|NO|OM|PK|PW|PS|PA|PG|PY|PE|PH|PN|PL|PT|PR|QA|RE|RO|RU|RW|BL|SH|KN|LC|MF|PM|VC|WS|SM|ST|SA|SN|RS|SC|SL|SG|SX|SK|SI|SB|SO|ZA|GS|SS|ES|LK|SD|SR|SJ|SZ|SE|CH|SY|TW|TJ|TZ|TH|TL|TG|TK|TO|TT|TN|TR|TM|TC|TV|UG|UA|AE|GB|US|UM|UY|UZ|VU|VE|VN|VG|VI|WF|EH|YE|ZM|ZW)[0-9A-Z]{10}$").test(e.value))return{valid:!1};for(var a=t.length,n="",r=0;r<a-1;r++){var i=t.charCodeAt(r);n+=57<i?(i-55).toString():t.charAt(r)}var s="",l=n.length,o=l%2!=0?0:1;for(r=0;r<l;r++)s+=parseInt(n[r],10)*(r%2==o?2:1)+"";var d=0;for(r=0;r<s.length;r++)d+=parseInt(s.charAt(r),10);return{valid:"".concat(d=(10-d%10)%10)===t.charAt(a-1)}}}},ismn:function(){return{validate:function(e){if(""===e.value)return{meta:null,valid:!0};var t;switch(!0){case/^M\d{9}$/.test(e.value):case/^M-\d{4}-\d{4}-\d{1}$/.test(e.value):case/^M\s\d{4}\s\d{4}\s\d{1}$/.test(e.value):t="ISMN10";break;case/^9790\d{9}$/.test(e.value):case/^979-0-\d{4}-\d{4}-\d{1}$/.test(e.value):case/^979\s0\s\d{4}\s\d{4}\s\d{1}$/.test(e.value):t="ISMN13";break;default:return{meta:null,valid:!1}}var a=e.value;"ISMN10"===t&&(a="9790".concat(a.substr(1)));for(var n=0,r=(a=a.replace(/[^0-9]/gi,"")).length,i=[1,3],s=0;s<r-1;s++)n+=parseInt(a.charAt(s),10)*i[s%2];return{meta:{type:t},valid:"".concat(n=(10-n%10)%10)===a.charAt(r-1)}}}},issn:function(){return{validate:function(e){if(""===e.value)return{valid:!0};if(!/^\d{4}\-\d{3}[\dX]$/.test(e.value))return{valid:!1};var t=e.value.replace(/[^0-9X]/gi,"").split(""),a=t.length,n=0;"X"===t[7]&&(t[7]="10");for(var r=0;r<a;r++)n+=parseInt(t[r],10)*(8-r);return{valid:n%11==0}}}},mac:function(){return{validate:function(e){return{valid:""===e.value||/^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$/.test(e.value)||/^([0-9A-Fa-f]{4}\.){2}([0-9A-Fa-f]{4})$/.test(e.value)}}}},meid:function(){return{validate:function(e){if(""===e.value)return{valid:!0};var t=e.value;switch(!0){case/^[0-9A-F]{15}$/i.test(t):case/^[0-9A-F]{2}[- ][0-9A-F]{6}[- ][0-9A-F]{6}[- ][0-9A-F]$/i.test(t):case/^\d{19}$/.test(t):case/^\d{5}[- ]\d{5}[- ]\d{4}[- ]\d{4}[- ]\d$/.test(t):var a=t.charAt(t.length-1).toUpperCase();if((t=t.replace(/[- ]/g,"")).match(/^\d*$/i))return{valid:f(t)};t=t.slice(0,-1);for(var n="",r=1;r<=13;r+=2)n+=(2*parseInt(t.charAt(r),16)).toString(16);var i=0;for(r=0;r<n.length;r++)i+=parseInt(n.charAt(r),16);return{valid:i%10==0?"0"===a:a===(2*(10*Math.floor((i+10)/10)-i)).toString(16).toUpperCase()};case/^[0-9A-F]{14}$/i.test(t):case/^[0-9A-F]{2}[- ][0-9A-F]{6}[- ][0-9A-F]{6}$/i.test(t):case/^\d{18}$/.test(t):case/^\d{5}[- ]\d{5}[- ]\d{4}[- ]\d{4}$/.test(t):return{valid:!0};default:return{valid:!1}}}}},phone:function(){var i=["AE","BG","BR","CN","CZ","DE","DK","ES","FR","GB","IN","MA","NL","PK","RO","RU","SK","TH","US","VE"];return{validate:function(e){if(""===e.value)return{valid:!0};var t=Object.assign({},{message:""},e.options),a=e.value.trim(),n=a.substr(0,2);if(!(n="function"==typeof t.country?t.country.call(this):t.country)||-1===i.indexOf(n.toUpperCase()))return{valid:!0};var r=!0;switch(n.toUpperCase()){case"AE":r=/^(((\+|00)?971[\s\.-]?(\(0\)[\s\.-]?)?|0)(\(5(0|2|5|6)\)|5(0|2|5|6)|2|3|4|6|7|9)|60)([\s\.-]?[0-9]){7}$/.test(a);break;case"BG":r=/^(0|359|00)(((700|900)[0-9]{5}|((800)[0-9]{5}|(800)[0-9]{4}))|(87|88|89)([0-9]{7})|((2[0-9]{7})|(([3-9][0-9])(([0-9]{6})|([0-9]{5})))))$/.test(a.replace(/\+|\s|-|\/|\(|\)/gi,""));break;case"BR":r=/^(([\d]{4}[-.\s]{1}[\d]{2,3}[-.\s]{1}[\d]{2}[-.\s]{1}[\d]{2})|([\d]{4}[-.\s]{1}[\d]{3}[-.\s]{1}[\d]{4})|((\(?\+?[0-9]{2}\)?\s?)?(\(?\d{2}\)?\s?)?\d{4,5}[-.\s]?\d{4}))$/.test(a);break;case"CN":r=/^((00|\+)?(86(?:-| )))?((\d{11})|(\d{3}[- ]{1}\d{4}[- ]{1}\d{4})|((\d{2,4}[- ]){1}(\d{7,8}|(\d{3,4}[- ]{1}\d{4}))([- ]{1}\d{1,4})?))$/.test(a);break;case"CZ":r=/^(((00)([- ]?)|\+)(420)([- ]?))?((\d{3})([- ]?)){2}(\d{3})$/.test(a);break;case"DE":r=/^(((((((00|\+)49[ \-/]?)|0)[1-9][0-9]{1,4})[ \-/]?)|((((00|\+)49\()|\(0)[1-9][0-9]{1,4}\)[ \-/]?))[0-9]{1,7}([ \-/]?[0-9]{1,5})?)$/.test(a);break;case"DK":r=/^(\+45|0045|\(45\))?\s?[2-9](\s?\d){7}$/.test(a);break;case"ES":r=/^(?:(?:(?:\+|00)34\D?))?(?:5|6|7|8|9)(?:\d\D?){8}$/.test(a);break;case"FR":r=/^(?:(?:(?:\+|00)33[ ]?(?:\(0\)[ ]?)?)|0){1}[1-9]{1}([ .-]?)(?:\d{2}\1?){3}\d{2}$/.test(a);break;case"GB":r=/^\(?(?:(?:0(?:0|11)\)?[\s-]?\(?|\+)44\)?[\s-]?\(?(?:0\)?[\s-]?\(?)?|0)(?:\d{2}\)?[\s-]?\d{4}[\s-]?\d{4}|\d{3}\)?[\s-]?\d{3}[\s-]?\d{3,4}|\d{4}\)?[\s-]?(?:\d{5}|\d{3}[\s-]?\d{3})|\d{5}\)?[\s-]?\d{4,5}|8(?:00[\s-]?11[\s-]?11|45[\s-]?46[\s-]?4\d))(?:(?:[\s-]?(?:x|ext\.?\s?|\#)\d+)?)$/.test(a);break;case"IN":r=/((\+?)((0[ -]+)*|(91 )*)(\d{12}|\d{10}))|\d{5}([- ]*)\d{6}/.test(a);break;case"MA":r=/^(?:(?:(?:\+|00)212[\s]?(?:[\s]?\(0\)[\s]?)?)|0){1}(?:5[\s.-]?[2-3]|6[\s.-]?[13-9]){1}[0-9]{1}(?:[\s.-]?\d{2}){3}$/.test(a);break;case"NL":r=/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9])((\s|\s?-\s?)?[0-9])((\s|\s?-\s?)?[0-9])\s?[0-9]\s?[0-9]\s?[0-9]\s?[0-9]\s?[0-9]$/gm.test(a);break;case"PK":r=/^0?3[0-9]{2}[0-9]{7}$/.test(a);break;case"RO":r=/^(\+4|)?(07[0-8]{1}[0-9]{1}|02[0-9]{2}|03[0-9]{2}){1}?(\s|\.|\-)?([0-9]{3}(\s|\.|\-|)){2}$/g.test(a);break;case"RU":r=/^((8|\+7|007)[\-\.\/ ]?)?([\(\/\.]?\d{3}[\)\/\.]?[\-\.\/ ]?)?[\d\-\.\/ ]{7,10}$/g.test(a);break;case"SK":r=/^(((00)([- ]?)|\+)(421)([- ]?))?((\d{3})([- ]?)){2}(\d{3})$/.test(a);break;case"TH":r=/^0\(?([6|8-9]{2})*-([0-9]{3})*-([0-9]{4})$/.test(a);break;case"VE":r=/^0(?:2(?:12|4[0-9]|5[1-9]|6[0-9]|7[0-8]|8[1-35-8]|9[1-5]|3[45789])|4(?:1[246]|2[46]))\d{7}$/.test(a);break;case"US":default:r=/^(?:(1\-?)|(\+1 ?))?\(?\d{3}\)?[\-\.\s]?\d{3}[\-\.\s]?\d{4}$/.test(a)}return{message:k(e.l10n?t.message||e.l10n.phone.country:t.message,e.l10n?e.l10n.phone.countries[n]:n),valid:r}}}},rtn:function(){return{validate:function(e){if(""===e.value)return{valid:!0};if(!/^\d{9}$/.test(e.value))return{valid:!1};for(var t=0,a=0;a<e.value.length;a+=3)t+=3*parseInt(e.value.charAt(a),10)+7*parseInt(e.value.charAt(a+1),10)+parseInt(e.value.charAt(a+2),10);return{valid:0!==t&&t%10==0}}}},sedol:function(){return{validate:function(e){if(""===e.value)return{valid:!0};var t=e.value.toUpperCase();if(!/^[0-9A-Z]{7}$/.test(t))return{valid:!1};for(var a=[1,3,1,7,3,9,1],n=t.length,r=0,i=0;i<n-1;i++)r+=a[i]*parseInt(t.charAt(i),36);return{valid:"".concat(r=(10-r%10)%10)===t.charAt(n-1)}}}},siren:function(){return{validate:function(e){return{valid:""===e.value||/^\d{9}$/.test(e.value)&&f(e.value)}}}},siret:function(){return{validate:function(e){if(""===e.value)return{valid:!0};for(var t,a=e.value.length,n=0,r=0;r<a;r++)t=parseInt(e.value.charAt(r),10),r%2==0&&9<(t*=2)&&(t-=9),n+=t;return{valid:n%10==0}}}},step:function(){function n(e,t){if(0===t)return 1;var a="".concat(e).split("."),n="".concat(t).split("."),n=(1===a.length?0:a[1].length)+(1===n.length?0:n[1].length);return function(e,t){var a,t=Math.pow(10,t),e=e*t;switch(!0){case 0==e:a=0;break;case 0<e:a=1;break;case e<0:a=-1}return e%1==.5*a?(Math.floor(e)+(0<a?1:0))/t:Math.round(e)/t}(e-t*Math.floor(e/t),n)}return{validate:function(e){if(""===e.value)return{valid:!0};var t=parseFloat(e.value);if(isNaN(t)||!isFinite(t))return{valid:!1};var a=Object.assign({},{baseValue:0,message:"",step:1},e.options),t=n(t-a.baseValue,a.step);return{message:k(e.l10n?a.message||e.l10n.step.default:a.message,"".concat(a.step)),valid:0===t||t===a.step}}}},uuid:function(){return{validate:function(e){if(""===e.value)return{valid:!0};var t=Object.assign({},{message:""},e.options),a={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},n=t.version?"".concat(t.version):"all";return{message:t.version?k(e.l10n?t.message||e.l10n.uuid.version:t.message,t.version):e.l10n?e.l10n.uuid.default:t.message,valid:null===a[n]||a[n].test(e.value)}}}},vat:function(){var v=["AR","AT","BE","BG","BR","CH","CY","CZ","DE","DK","EE","EL","ES","FI","FR","GB","GR","HR","HU","IE","IS","IT","LT","LU","LV","MT","NL","NO","PL","PT","RO","RU","RS","SE","SK","SI","VE","ZA"];return{validate:function(e){var t=e.value;if(""===t)return{valid:!0};var a=Object.assign({},{message:""},e.options),n=t.substr(0,2),n="function"==typeof a.country?a.country.call(this):a.country;if(-1===v.indexOf(n))return{valid:!0};var r,i,s,l,o,d,u,c={meta:{},valid:!0};switch(n.toLowerCase()){case"ar":c=function(e){var t=e.replace("-","");if(/^AR[0-9]{11}$/.test(t)&&(t=t.substr(2)),!/^[0-9]{11}$/.test(t))return{meta:{},valid:!1};for(var a=[5,4,3,2,7,6,5,4,3,2],n=0,r=0;r<10;r++)n+=parseInt(t.charAt(r),10)*a[r];return 11===(n=11-n%11)&&(n=0),{meta:{},valid:"".concat(n)===t.substr(10)}}(t);break;case"at":c=function(e){var t=e;if(/^ATU[0-9]{8}$/.test(t)&&(t=t.substr(2)),!/^U[0-9]{8}$/.test(t))return{meta:{},valid:!1};t=t.substr(1);for(var a=[1,2,1,2,1,2,1],n=0,r=0,i=0;i<7;i++)9<(r=parseInt(t.charAt(i),10)*a[i])&&(r=Math.floor(r/10)+r%10),n+=r;return 10===(n=10-(n+4)%10)&&(n=0),{meta:{},valid:"".concat(n)===t.substr(7,1)}}(t);break;case"be":/^BE[0]?[0-9]{9}$/.test(u=t)&&(u=u.substr(2)),c=/^[0]?[0-9]{9}$/.test(u)?(9===u.length&&(u="0".concat(u)),"0"===u.substr(1,1)?{meta:{},valid:!1}:{meta:{},valid:(parseInt(u.substr(0,8),10)+parseInt(u.substr(8,2),10))%97==0}):{meta:{},valid:!1};break;case"bg":c=O(t);break;case"br":c=function(e){if(""===e)return{meta:{},valid:!0};var t=e.replace(/[^\d]+/g,"");if(""===t||14!==t.length)return{meta:{},valid:!1};if("00000000000000"===t||"11111111111111"===t||"22222222222222"===t||"33333333333333"===t||"44444444444444"===t||"55555555555555"===t||"66666666666666"===t||"77777777777777"===t||"88888888888888"===t||"99999999999999"===t)return{meta:{},valid:!1};for(var a=t.length-2,n=t.substring(0,a),r=t.substring(a),i=0,s=a-7,l=a;1<=l;l--)i+=parseInt(n.charAt(a-l),10)*s--,s<2&&(s=9);if((e=i%11<2?0:11-i%11)!==parseInt(r.charAt(0),10))return{meta:{},valid:!1};for(a+=1,n=t.substring(0,a),i=0,s=a-7,l=a;1<=l;l--)i+=parseInt(n.charAt(a-l),10)*s--,s<2&&(s=9);return{meta:{},valid:(e=i%11<2?0:11-i%11)===parseInt(r.charAt(1),10)}}(t);break;case"ch":c=function(e){var t=e;if(/^CHE[0-9]{9}(MWST|TVA|IVA|TPV)?$/.test(t)&&(t=t.substr(2)),!/^E[0-9]{9}(MWST|TVA|IVA|TPV)?$/.test(t))return{meta:{},valid:!1};t=t.substr(1);for(var a=[5,4,3,2,7,6,5,4],n=0,r=0;r<8;r++)n+=parseInt(t.charAt(r),10)*a[r];return 10===(n=11-n%11)?{meta:{},valid:!1}:(11===n&&(n=0),{meta:{},valid:"".concat(n)===t.substr(8,1)})}(t);break;case"cy":c=function(e){var t=e;if(/^CY[0-5|9][0-9]{7}[A-Z]$/.test(t)&&(t=t.substr(2)),!/^[0-5|9][0-9]{7}[A-Z]$/.test(t))return{meta:{},valid:!1};if("12"===t.substr(0,2))return{meta:{},valid:!1};for(var a=0,n={0:1,1:0,2:5,3:7,4:9,5:13,6:15,7:17,8:19,9:21},r=0;r<8;r++){var i=parseInt(t.charAt(r),10);r%2==0&&(i=n["".concat(i)]),a+=i}return{meta:{},valid:"".concat("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[a%26])===t.substr(8,1)}}(t);break;case"cz":c=function(e){var t=e;if(/^CZ[0-9]{8,10}$/.test(t)&&(t=t.substr(2)),!/^[0-9]{8,10}$/.test(t))return{meta:{},valid:!1};var a=0,n=0;if(8===t.length){if("9"==="".concat(t.charAt(0)))return{meta:{},valid:!1};for(n=a=0;n<7;n++)a+=parseInt(t.charAt(n),10)*(8-n);return 10===(a=11-a%11)&&(a=0),11===a&&(a=1),{meta:{},valid:"".concat(a)===t.substr(7,1)}}if(9===t.length&&"6"==="".concat(t.charAt(0))){for(n=a=0;n<7;n++)a+=parseInt(t.charAt(n+1),10)*(8-n);return 10===(a=11-a%11)&&(a=0),11===a&&(a=1),{meta:{},valid:"".concat(a=[8,7,6,5,4,3,2,1,0,9,10][a-1])===t.substr(8,1)}}if(9!==t.length&&10!==t.length)return{meta:{},valid:!1};var r=1900+parseInt(t.substr(0,2),10),i=parseInt(t.substr(2,2),10)%50%20,e=parseInt(t.substr(4,2),10);if(9===t.length){if(1980<=r&&(r-=100),1953<r)return{meta:{},valid:!1}}else r<1954&&(r+=100);return E(r,i,e)?10!==t.length?{meta:{},valid:!0}:(e=parseInt(t.substr(0,9),10)%11,r<1985&&(e%=10),{meta:{},valid:"".concat(e)===t.substr(9,1)}):{meta:{},valid:!1}}(t);break;case"de":/^DE[0-9]{9}$/.test(d=t)&&(d=d.substr(2)),c=/^[0-9]{9}$/.test(d)?{meta:{},valid:h(d)}:{meta:{},valid:!1};break;case"dk":c=function(e){var t=e;if(/^DK[0-9]{8}$/.test(t)&&(t=t.substr(2)),!/^[0-9]{8}$/.test(t))return{meta:{},valid:!1};for(var a=0,n=[2,7,6,5,4,3,2,1],r=0;r<8;r++)a+=parseInt(t.charAt(r),10)*n[r];return{meta:{},valid:a%11==0}}(t);break;case"ee":c=function(e){var t=e;if(/^EE[0-9]{9}$/.test(t)&&(t=t.substr(2)),!/^[0-9]{9}$/.test(t))return{meta:{},valid:!1};for(var a=0,n=[3,7,1,3,7,1,3,7,1],r=0;r<9;r++)a+=parseInt(t.charAt(r),10)*n[r];return{meta:{},valid:a%10==0}}(t);break;case"el":c=F(t);break;case"es":c=function(e){var t=e;if(/^ES[0-9A-Z][0-9]{7}[0-9A-Z]$/.test(t)&&(t=t.substr(2)),!/^[0-9A-Z][0-9]{7}[0-9A-Z]$/.test(t))return{meta:{},valid:!1};var a,n,e=t.charAt(0);return/^[0-9]$/.test(e)?{meta:{type:"DNI"},valid:(a=t,n=parseInt(a.substr(0,8),10),"".concat("TRWAGMYFPDXBNJZSQVHLCKE"[n%23])===a.substr(8,1))}:/^[XYZ]$/.test(e)?{meta:{type:"NIE"},valid:(e=["XYZ".indexOf((a=t).charAt(0)),a.substr(1)].join(""),e="TRWAGMYFPDXBNJZSQVHLCKE"[parseInt(e,10)%23],"".concat(e)===a.substr(8,1))}:{meta:{type:"CIF"},valid:function(e){var t,a=e.charAt(0);if(-1!=="KLM".indexOf(a))return t=parseInt(e.substr(1,8),10),"".concat("TRWAGMYFPDXBNJZSQVHLCKE"[t%23])===e.substr(8,1);if(-1==="ABCDEFGHJNPQRSUVW".indexOf(a))return!1;for(var n=[2,1,2,1,2,1,2],r=0,i=0,s=0;s<7;s++)9<(i=parseInt(e.charAt(s+1),10)*n[s])&&(i=Math.floor(i/10)+i%10),r+=i;return 10===(r=10-r%10)&&(r=0),"".concat(r)===e.substr(8,1)||"JABCDEFGHI"[r]===e.substr(8,1)}(t)}}(t);break;case"fi":c=function(e){var t=e;if(/^FI[0-9]{8}$/.test(t)&&(t=t.substr(2)),!/^[0-9]{8}$/.test(t))return{meta:{},valid:!1};for(var a=[7,9,10,5,8,4,2,1],n=0,r=0;r<8;r++)n+=parseInt(t.charAt(r),10)*a[r];return{meta:{},valid:n%11==0}}(t);break;case"fr":/^FR[0-9A-Z]{2}[0-9]{9}$/.test(d=u=t)&&(d=d.substr(2)),c=/^[0-9A-Z]{2}[0-9]{9}$/.test(d)&&f(d.substr(2))?/^[0-9]{2}$/.test(d.substr(0,2))?{meta:{},valid:d.substr(0,2)==="".concat(parseInt(d.substr(2)+"12",10)%97)}:(u="0123456789ABCDEFGHJKLMNPQRSTUVWXYZ",u=/^[0-9]$/.test(d.charAt(0))?24*u.indexOf(d.charAt(0))+u.indexOf(d.charAt(1))-10:34*u.indexOf(d.charAt(0))+u.indexOf(d.charAt(1))-100,{meta:{},valid:(parseInt(d.substr(2),10)+1+Math.floor(u/11))%11==u%11}):{meta:{},valid:!1};break;case"gb":c=function(e){var t=e;if((/^GB[0-9]{9}$/.test(t)||/^GB[0-9]{12}$/.test(t)||/^GBGD[0-9]{3}$/.test(t)||/^GBHA[0-9]{3}$/.test(t)||/^GB(GD|HA)8888[0-9]{5}$/.test(t))&&(t=t.substr(2)),!(/^[0-9]{9}$/.test(t)||/^[0-9]{12}$/.test(t)||/^GD[0-9]{3}$/.test(t)||/^HA[0-9]{3}$/.test(t)||/^(GD|HA)8888[0-9]{5}$/.test(t)))return{meta:{},valid:!1};var a=t.length;if(5===a){var n=t.substr(0,2),e=parseInt(t.substr(2),10);return{meta:{},valid:"GD"===n&&e<500||"HA"===n&&500<=e}}if(11===a&&("GD8888"===t.substr(0,6)||"HA8888"===t.substr(0,6)))return"GD"===t.substr(0,2)&&500<=parseInt(t.substr(6,3),10)||"HA"===t.substr(0,2)&&parseInt(t.substr(6,3),10)<500?{meta:{},valid:!1}:{meta:{},valid:parseInt(t.substr(6,3),10)%97===parseInt(t.substr(9,2),10)};if(9!==a&&12!==a)return{meta:{},valid:!0};for(var r=[8,7,6,5,4,3,2,10,1],i=0,s=0;s<9;s++)i+=parseInt(t.charAt(s),10)*r[s];return i%=97,{meta:{},valid:100<=parseInt(t.substr(0,3),10)?0===i||42===i||55===i:0===i}}(t);break;case"gr":c=F(t);break;case"hr":/^HR[0-9]{11}$/.test(o=t)&&(o=o.substr(2)),c=/^[0-9]{11}$/.test(o)?{meta:{},valid:h(o)}:{meta:{},valid:!1};break;case"hu":c=function(e){var t=e;if(/^HU[0-9]{8}$/.test(t)&&(t=t.substr(2)),!/^[0-9]{8}$/.test(t))return{meta:{},valid:!1};for(var a=[9,7,3,1,9,7,3,1],n=0,r=0;r<8;r++)n+=parseInt(t.charAt(r),10)*a[r];return{meta:{},valid:n%10==0}}(t);break;case"ie":/^IE[0-9][0-9A-Z\*\+][0-9]{5}[A-Z]{1,2}$/.test(l=o=t)&&(l=l.substr(2)),c=/^[0-9][0-9A-Z\*\+][0-9]{5}[A-Z]{1,2}$/.test(l)?(o=function(e){for(var t=e;t.length<7;)t="0".concat(t);for(var e="WABCDEFGHIJKLMNOPQRSTUV",a=0,n=0;n<7;n++)a+=parseInt(t.charAt(n),10)*(8-n);return a+=9*e.indexOf(t.substr(7)),e[a%23]},/^[0-9]+$/.test(l.substr(0,7))?{meta:{},valid:l.charAt(7)===o("".concat(l.substr(0,7)).concat(l.substr(8)))}:-1!=="ABCDEFGHIJKLMNOPQRSTUVWXYZ+*".indexOf(l.charAt(1))?{meta:{},valid:l.charAt(7)===o("".concat(l.substr(2,5)).concat(l.substr(0,1)))}:{meta:{},valid:!0}):{meta:{},valid:!1};break;case"is":/^IS[0-9]{5,6}$/.test(s=t)&&(s=s.substr(2)),c={meta:{},valid:/^[0-9]{5,6}$/.test(s)};break;case"it":/^IT[0-9]{11}$/.test(s=l=t)&&(s=s.substr(2)),c=!/^[0-9]{11}$/.test(s)||0===parseInt(s.substr(0,7),10)||(l=parseInt(s.substr(7,3),10))<1||201<l&&999!==l&&888!==l?{meta:{},valid:!1}:{meta:{},valid:f(s)};break;case"lt":c=function(e){var t=e;if(/^LT([0-9]{7}1[0-9]|[0-9]{10}1[0-9])$/.test(t)&&(t=t.substr(2)),!/^([0-9]{7}1[0-9]|[0-9]{10}1[0-9])$/.test(t))return{meta:{},valid:!1};for(var a=t.length,n=0,r=0;r<a-1;r++)n+=parseInt(t.charAt(r),10)*(1+r%9);if(10==(e=n%11))for(r=n=0;r<a-1;r++)n+=parseInt(t.charAt(r),10)*(1+(r+2)%9);return{meta:{},valid:"".concat(e=e%11%10)===t.charAt(a-1)}}(t);break;case"lu":/^LU[0-9]{8}$/.test(i=t)&&(i=i.substr(2)),c=/^[0-9]{8}$/.test(i)?{meta:{},valid:"".concat(parseInt(i.substr(0,6),10)%89)===i.substr(6,2)}:{meta:{},valid:!1};break;case"lv":c=function(e){var t=e;if(/^LV[0-9]{11}$/.test(t)&&(t=t.substr(2)),!/^[0-9]{11}$/.test(t))return{meta:{},valid:!1};var a,n=parseInt(t.charAt(0),10),r=t.length,i=0,s=[];if(3<n){for(s=[9,1,4,8,3,10,2,5,7,6,1],a=i=0;a<r;a++)i+=parseInt(t.charAt(a),10)*s[a];return{meta:{},valid:3===(i%=11)}}if(e=parseInt(t.substr(0,2),10),n=parseInt(t.substr(2,2),10),!E(parseInt(t.substr(4,2),10)+1800+100*parseInt(t.charAt(6),10),n,e))return{meta:{},valid:!1};for(s=[10,5,8,4,2,1,6,3,7,9],a=i=0;a<r-1;a++)i+=parseInt(t.charAt(a),10)*s[a];return{meta:{},valid:"".concat(i=(i+1)%11%10)===t.charAt(r-1)}}(t);break;case"mt":c=function(e){var t=e;if(/^MT[0-9]{8}$/.test(t)&&(t=t.substr(2)),!/^[0-9]{8}$/.test(t))return{meta:{},valid:!1};for(var a=[3,4,6,7,8,9,10,1],n=0,r=0;r<8;r++)n+=parseInt(t.charAt(r),10)*a[r];return{meta:{},valid:n%37==0}}(t);break;case"nl":c=function(e){var t=e;if(/^NL[0-9]{9}B[0-9]{2}$/.test(t)&&(t=t.substr(2)),!/^[0-9]{9}B[0-9]{2}$/.test(t))return{meta:{},valid:!1};for(var a=[9,8,7,6,5,4,3,2],n=0,r=0;r<8;r++)n+=parseInt(t.charAt(r),10)*a[r];return 9<(n%=11)&&(n=0),{meta:{},valid:"".concat(n)===t.substr(8,1)}}(t);break;case"no":c=function(e){var t=e;if(/^NO[0-9]{9}$/.test(t)&&(t=t.substr(2)),!/^[0-9]{9}$/.test(t))return{meta:{},valid:!1};for(var a=[3,2,7,6,5,4,3,2],n=0,r=0;r<8;r++)n+=parseInt(t.charAt(r),10)*a[r];return 11===(n=11-n%11)&&(n=0),{meta:{},valid:"".concat(n)===t.substr(8,1)}}(t);break;case"pl":c=function(e){var t=e;if(/^PL[0-9]{10}$/.test(t)&&(t=t.substr(2)),!/^[0-9]{10}$/.test(t))return{meta:{},valid:!1};for(var a=[6,5,7,2,3,4,5,6,7,-1],n=0,r=0;r<10;r++)n+=parseInt(t.charAt(r),10)*a[r];return{meta:{},valid:n%11==0}}(t);break;case"pt":c=function(e){var t=e;if(/^PT[0-9]{9}$/.test(t)&&(t=t.substr(2)),!/^[0-9]{9}$/.test(t))return{meta:{},valid:!1};for(var a=[9,8,7,6,5,4,3,2],n=0,r=0;r<8;r++)n+=parseInt(t.charAt(r),10)*a[r];return 9<(n=11-n%11)&&(n=0),{meta:{},valid:"".concat(n)===t.substr(8,1)}}(t);break;case"ro":c=function(e){var t=e;if(/^RO[1-9][0-9]{1,9}$/.test(t)&&(t=t.substr(2)),!/^[1-9][0-9]{1,9}$/.test(t))return{meta:{},valid:!1};for(var a=t.length,n=[7,5,3,2,1,7,5,3,2].slice(10-a),r=0,i=0;i<a-1;i++)r+=parseInt(t.charAt(i),10)*n[i];return{meta:{},valid:"".concat(r=10*r%11%10)===t.substr(a-1,1)}}(t);break;case"rs":c=function(e){var t=e;if(/^RS[0-9]{9}$/.test(t)&&(t=t.substr(2)),!/^[0-9]{9}$/.test(t))return{meta:{},valid:!1};for(var a=10,n=0,r=0;r<8;r++)0===(n=(parseInt(t.charAt(r),10)+a)%10)&&(n=10),a=2*n%11;return{meta:{},valid:(a+parseInt(t.substr(8,1),10))%10==1}}(t);break;case"ru":c=function(e){var t=e;if(/^RU([0-9]{10}|[0-9]{12})$/.test(t)&&(t=t.substr(2)),!/^([0-9]{10}|[0-9]{12})$/.test(t))return{meta:{},valid:!1};var a=0;if(10===t.length){for(var n=[2,4,10,3,5,9,4,6,8,0],r=0,a=0;a<10;a++)r+=parseInt(t.charAt(a),10)*n[a];return 9<(r%=11)&&(r%=10),{meta:{},valid:"".concat(r)===t.substr(9,1)}}if(12!==t.length)return{meta:{},valid:!0};var i=[7,2,4,10,3,5,9,4,6,8,0],s=[3,7,2,4,10,3,5,9,4,6,8,0],l=0,o=0;for(a=0;a<11;a++)l+=parseInt(t.charAt(a),10)*i[a],o+=parseInt(t.charAt(a),10)*s[a];return 9<(l%=11)&&(l%=10),9<(o%=11)&&(o%=10),{meta:{},valid:"".concat(l)===t.substr(10,1)&&"".concat(o)===t.substr(11,1)}}(t);break;case"se":/^SE[0-9]{10}01$/.test(i=t)&&(i=i.substr(2)),c=/^[0-9]{10}01$/.test(i)?{meta:{},valid:f(i=i.substr(0,10))}:{meta:{},valid:!1};break;case"si":c=function(e){var t=e.match(/^(SI)?([1-9][0-9]{7})$/);if(!t)return{meta:{},valid:!1};for(var a=t[1]?e.substr(2):e,n=[8,7,6,5,4,3,2],r=0,i=0;i<7;i++)r+=parseInt(a.charAt(i),10)*n[i];return 10===(r=11-r%11)&&(r=0),{meta:{},valid:"".concat(r)===a.substr(7,1)}}(t);break;case"sk":/^SK[1-9][0-9][(2-4)|(6-9)][0-9]{7}$/.test(r=t)&&(r=r.substr(2)),c=/^[1-9][0-9][(2-4)|(6-9)][0-9]{7}$/.test(r)?{meta:{},valid:parseInt(r,10)%11==0}:{meta:{},valid:!1};break;case"ve":c=function(e){var t=e;if(/^VE[VEJPG][0-9]{9}$/.test(t)&&(t=t.substr(2)),!/^[VEJPG][0-9]{9}$/.test(t))return{meta:{},valid:!1};for(var a=[3,2,7,6,5,4,3,2],n={E:8,G:20,J:12,P:16,V:4}[t.charAt(0)],r=0;r<8;r++)n+=parseInt(t.charAt(r+1),10)*a[r];return 11!==(n=11-n%11)&&10!==n||(n=0),{meta:{},valid:"".concat(n)===t.substr(9,1)}}(t);break;case"za":/^ZA4[0-9]{9}$/.test(r=t)&&(r=r.substr(2)),c={meta:{},valid:/^4[0-9]{9}$/.test(r)}}n=k(e.l10n?a.message||e.l10n.vat.country:a.message,e.l10n?e.l10n.vat.countries[n.toUpperCase()]:n.toUpperCase());return Object.assign({},{message:n},c)}}},vin:function(){return{validate:function(e){if(""===e.value)return{valid:!0};if(!/^[a-hj-npr-z0-9]{8}[0-9xX][a-hj-npr-z0-9]{8}$/i.test(e.value))return{valid:!1};for(var t=e.value.toUpperCase(),a={A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,J:1,K:2,L:3,M:4,N:5,P:7,R:9,S:2,T:3,U:4,V:5,W:6,X:7,Y:8,Z:9,0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},n=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],r=t.length,i=0,s=0;s<r;s++)i+=a["".concat(t.charAt(s))]*n[s];e="".concat(i%11);return"10"===e&&(e="X"),{valid:e===t.charAt(8)}}}},zipCode:function(){var r=["AT","BG","BR","CA","CH","CZ","DE","DK","ES","FR","GB","IE","IN","IT","MA","NL","PL","PT","RO","RU","SE","SG","SK","US"];return{validate:function(e){var t=Object.assign({},e.options);if(""===e.value||!t.country)return{valid:!0};var a=e.value.substr(0,2);if(!(a="function"==typeof t.country?t.country.call(this):t.country)||-1===r.indexOf(a.toUpperCase()))return{valid:!0};var n=!1;switch(a=a.toUpperCase()){case"AT":n=/^([1-9]{1})(\d{3})$/.test(e.value);break;case"BG":n=/^([1-9]{1}[0-9]{3})$/.test(e.value);break;case"BR":n=/^(\d{2})([\.]?)(\d{3})([\-]?)(\d{3})$/.test(e.value);break;case"CA":n=/^(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|X|Y){1}[0-9]{1}(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|W|X|Y|Z){1}\s?[0-9]{1}(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|W|X|Y|Z){1}[0-9]{1}$/i.test(e.value);break;case"CH":n=/^([1-9]{1})(\d{3})$/.test(e.value);break;case"CZ":n=/^(\d{3})([ ]?)(\d{2})$/.test(e.value);break;case"DE":n=/^(?!01000|99999)(0[1-9]\d{3}|[1-9]\d{4})$/.test(e.value);break;case"DK":n=/^(DK(-|\s)?)?\d{4}$/i.test(e.value);break;case"ES":n=/^(?:0[1-9]|[1-4][0-9]|5[0-2])\d{3}$/.test(e.value);break;case"FR":n=/^[0-9]{5}$/i.test(e.value);break;case"GB":n=function(e){for(var t="[ABCDEFGHIJKLMNOPRSTUWYZ]",a="[ABCDEFGHKLMNOPQRSTUVWXY]",n="[ABDEFGHJLNPQRSTUWXYZ]",r=0,i=[new RegExp("^(".concat(t,"{1}").concat(a,"?[0-9]{1,2})(\\s*)([0-9]{1}").concat(n,"{2})$"),"i"),new RegExp("^(".concat(t,"{1}[0-9]{1}").concat("[ABCDEFGHJKPMNRSTUVWXY]","{1})(\\s*)([0-9]{1}").concat(n,"{2})$"),"i"),new RegExp("^(".concat(t,"{1}").concat(a,"{1}?[0-9]{1}").concat("[ABEHMNPRVWXY]","{1})(\\s*)([0-9]{1}").concat(n,"{2})$"),"i"),new RegExp("^(BF1)(\\s*)([0-6]{1}[ABDEFGHJLNPQRST]{1}[ABDEFGHJLNPQRSTUWZYZ]{1})$","i"),/^(GIR)(\s*)(0AA)$/i,/^(BFPO)(\s*)([0-9]{1,4})$/i,/^(BFPO)(\s*)(c\/o\s*[0-9]{1,3})$/i,/^([A-Z]{4})(\s*)(1ZZ)$/i,/^(AI-2640)$/i];r<i.length;r++)if(i[r].test(e))return!0;return!1}(e.value);break;case"IN":n=/^\d{3}\s?\d{3}$/.test(e.value);break;case"IE":n=/^(D6W|[ACDEFHKNPRTVWXY]\d{2})\s[0-9ACDEFHKNPRTVWXY]{4}$/.test(e.value);break;case"IT":n=/^(I-|IT-)?\d{5}$/i.test(e.value);break;case"MA":n=/^[1-9][0-9]{4}$/i.test(e.value);break;case"NL":n=/^[1-9][0-9]{3} ?(?!sa|sd|ss)[a-z]{2}$/i.test(e.value);break;case"PL":n=/^[0-9]{2}\-[0-9]{3}$/.test(e.value);break;case"PT":n=/^[1-9]\d{3}-\d{3}$/.test(e.value);break;case"RO":n=/^(0[1-8]{1}|[1-9]{1}[0-5]{1})?[0-9]{4}$/i.test(e.value);break;case"RU":n=/^[0-9]{6}$/i.test(e.value);break;case"SE":n=/^(S-)?\d{3}\s?\d{2}$/i.test(e.value);break;case"SG":n=/^([0][1-9]|[1-6][0-9]|[7]([0-3]|[5-9])|[8][0-2])(\d{4})$/i.test(e.value);break;case"SK":n=/^(\d{3})([ ]?)(\d{2})$/.test(e.value);break;case"US":default:n=/^\d{4,5}([\-]?\d{4})?$/.test(e.value)}return{message:k(e.l10n?t.message||e.l10n.zipCode.country:t.message,e.l10n?e.l10n.zipCode.countries[a]:a),valid:n}}}}},S=function(){function a(e,t){r(this,a),this.elements={},this.ee={fns:{},clear:function(){this.fns={}},emit:function(e){for(var t=arguments.length,a=new Array(1<t?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];(this.fns[e]||[]).map(function(e){return e.apply(e,a)})},off:function(e,t){!this.fns[e]||0<=(t=this.fns[e].indexOf(t))&&this.fns[e].splice(t,1)},on:function(e,t){(this.fns[e]=this.fns[e]||[]).push(t)}},this.filter={filters:{},add:function(e,t){(this.filters[e]=this.filters[e]||[]).push(t)},clear:function(){this.filters={}},execute:function(e,t,a){if(!this.filters[e]||!this.filters[e].length)return t;for(var n=t,r=this.filters[e],i=r.length,s=0;s<i;s++)n=r[s].apply(n,a);return n},remove:function(e,t){this.filters[e]&&(this.filters[e]=this.filters[e].filter(function(e){return e!==t}))}},this.plugins={},this.results=new Map,this.validators={},this.form=e,this.fields=t}return i(a,[{key:"on",value:function(e,t){return this.ee.on(e,t),this}},{key:"off",value:function(e,t){return this.ee.off(e,t),this}},{key:"emit",value:function(e){for(var t,a=arguments.length,n=new Array(1<a?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return(t=this.ee).emit.apply(t,[e].concat(n)),this}},{key:"registerPlugin",value:function(e,t){if(this.plugins[e])throw new Error("The plguin ".concat(e," is registered"));return t.setCore(this),t.install(),this.plugins[e]=t,this}},{key:"deregisterPlugin",value:function(e){var t=this.plugins[e];return t&&t.uninstall(),delete this.plugins[e],this}},{key:"registerValidator",value:function(e,t){if(this.validators[e])throw new Error("The validator ".concat(e," is registered"));return this.validators[e]=t,this}},{key:"registerFilter",value:function(e,t){return this.filter.add(e,t),this}},{key:"deregisterFilter",value:function(e,t){return this.filter.remove(e,t),this}},{key:"executeFilter",value:function(e,t,a){return this.filter.execute(e,t,a)}},{key:"addField",value:function(e,t){t=Object.assign({},{selector:"",validators:{}},t);return this.fields[e]=this.fields[e]?{selector:t.selector||this.fields[e].selector,validators:Object.assign({},this.fields[e].validators,t.validators)}:t,this.elements[e]=this.queryElements(e),this.emit("core.field.added",{elements:this.elements[e],field:e,options:this.fields[e]}),this}},{key:"removeField",value:function(e){if(!this.fields[e])throw new Error("The field ".concat(e," validators are not defined. Please ensure the field is added first"));var t=this.elements[e],a=this.fields[e];return delete this.elements[e],delete this.fields[e],this.emit("core.field.removed",{elements:t,field:e,options:a}),this}},{key:"validate",value:function(){var t=this;return this.emit("core.form.validating"),this.filter.execute("validate-pre",Promise.resolve(),[]).then(function(){return Promise.all(Object.keys(t.fields).map(function(e){return t.validateField(e)})).then(function(e){switch(!0){case-1!==e.indexOf("Invalid"):return t.emit("core.form.invalid"),Promise.resolve("Invalid");case-1!==e.indexOf("NotValidated"):return t.emit("core.form.notvalidated"),Promise.resolve("NotValidated");default:return t.emit("core.form.valid"),Promise.resolve("Valid")}})})}},{key:"validateField",value:function(t){var a=this,e=this.results.get(t);if("Valid"===e||"Invalid"===e)return Promise.resolve(e);this.emit("core.field.validating",t);var n=this.elements[t];if(0===n.length)return this.emit("core.field.valid",t),Promise.resolve("Valid");e=n[0].getAttribute("type");return"radio"===e||"checkbox"===e||1===n.length?this.validateElement(t,n[0]):Promise.all(n.map(function(e){return a.validateElement(t,e)})).then(function(e){switch(!0){case-1!==e.indexOf("Invalid"):return a.emit("core.field.invalid",t),a.results.set(t,"Invalid"),Promise.resolve("Invalid");case-1!==e.indexOf("NotValidated"):return a.emit("core.field.notvalidated",t),a.results.delete(t),Promise.resolve("NotValidated");default:return a.emit("core.field.valid",t),a.results.set(t,"Valid"),Promise.resolve("Valid")}})}},{key:"validateElement",value:function(a,n){var r=this;this.results.delete(a);var i=this.elements[a];if(this.filter.execute("element-ignored",!1,[a,n,i]))return this.emit("core.element.ignored",{element:n,elements:i,field:a}),Promise.resolve("Ignored");var t=this.fields[a].validators;this.emit("core.element.validating",{element:n,elements:i,field:a});var e=Object.keys(t).map(function(e){return function(){return r.executeValidator(a,n,e,t[e])}});return this.waterfall(e).then(function(e){var t=-1===e.indexOf("Invalid");r.emit("core.element.validated",{element:n,elements:i,field:a,valid:t});e=n.getAttribute("type");return"radio"!==e&&"checkbox"!==e&&1!==i.length||r.emit(t?"core.field.valid":"core.field.invalid",a),Promise.resolve(t?"Valid":"Invalid")}).catch(function(e){return r.emit("core.element.notvalidated",{element:n,elements:i,field:a}),Promise.resolve(e)})}},{key:"executeValidator",value:function(t,a,n,e){var r=this,i=this.elements[t],s=this.filter.execute("validator-name",n,[n,t]);if(e.message=this.filter.execute("validator-message",e.message,[this.locale,t,s]),!this.validators[s]||!1===e.enabled)return this.emit("core.validator.validated",{element:a,elements:i,field:t,result:this.normalizeResult(t,s,{valid:!0}),validator:s}),Promise.resolve("Valid");var l=this.validators[s],s=this.getElementValue(t,a,s);if(!this.filter.execute("field-should-validate",!0,[t,a,s,n]))return this.emit("core.validator.notvalidated",{element:a,elements:i,field:t,validator:n}),Promise.resolve("NotValidated");this.emit("core.validator.validating",{element:a,elements:i,field:t,validator:n});s=l().validate({element:a,elements:i,field:t,l10n:this.localization,options:e,value:s});if("function"==typeof s.then)return s.then(function(e){e=r.normalizeResult(t,n,e);return r.emit("core.validator.validated",{element:a,elements:i,field:t,result:e,validator:n}),e.valid?"Valid":"Invalid"});s=this.normalizeResult(t,n,s);return this.emit("core.validator.validated",{element:a,elements:i,field:t,result:s,validator:n}),Promise.resolve(s.valid?"Valid":"Invalid")}},{key:"getElementValue",value:function(e,t,a){var n=m(this.form,0,t,this.elements[e]);return this.filter.execute("field-value",n,[n,e,t,a])}},{key:"getElements",value:function(e){return this.elements[e]}},{key:"getFields",value:function(){return this.fields}},{key:"getFormElement",value:function(){return this.form}},{key:"getLocale",value:function(){return this.locale}},{key:"getPlugin",value:function(e){return this.plugins[e]}},{key:"updateFieldStatus",value:function(t,a,n){var r=this,e=this.elements[t],i=e[0].getAttribute("type");if(("radio"===i||"checkbox"===i?[e[0]]:e).forEach(function(e){return r.updateElementStatus(t,e,a,n)}),!n)switch(a){case"NotValidated":this.emit("core.field.notvalidated",t),this.results.delete(t);break;case"Validating":this.emit("core.field.validating",t),this.results.delete(t);break;case"Valid":this.emit("core.field.valid",t),this.results.set(t,"Valid");break;case"Invalid":this.emit("core.field.invalid",t),this.results.set(t,"Invalid")}return this}},{key:"updateElementStatus",value:function(t,a,e,n){var r=this,i=this.elements[t],s=this.fields[t].validators,l=n?[n]:Object.keys(s);switch(e){case"NotValidated":l.forEach(function(e){return r.emit("core.validator.notvalidated",{element:a,elements:i,field:t,validator:e})}),this.emit("core.element.notvalidated",{element:a,elements:i,field:t});break;case"Validating":l.forEach(function(e){return r.emit("core.validator.validating",{element:a,elements:i,field:t,validator:e})}),this.emit("core.element.validating",{element:a,elements:i,field:t});break;case"Valid":l.forEach(function(e){return r.emit("core.validator.validated",{element:a,field:t,result:{message:s[e].message,valid:!0},validator:e})}),this.emit("core.element.validated",{element:a,elements:i,field:t,valid:!0});break;case"Invalid":l.forEach(function(e){return r.emit("core.validator.validated",{element:a,field:t,result:{message:s[e].message,valid:!1},validator:e})}),this.emit("core.element.validated",{element:a,elements:i,field:t,valid:!1})}return this}},{key:"resetForm",value:function(t){var a=this;return Object.keys(this.fields).forEach(function(e){return a.resetField(e,t)}),this.emit("core.form.reset",{reset:t}),this}},{key:"resetField",value:function(e,t){var a,n;return t&&(a=this.elements[e],n=a[0].getAttribute("type"),a.forEach(function(e){"radio"===n||"checkbox"===n?(e.removeAttribute("selected"),e.removeAttribute("checked"),e.checked=!1):(e.setAttribute("value",""),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&(e.value=""))})),this.updateFieldStatus(e,"NotValidated"),this.emit("core.field.reset",{field:e,reset:t}),this}},{key:"revalidateField",value:function(e){return this.updateFieldStatus(e,"NotValidated"),this.validateField(e)}},{key:"disableValidator",value:function(e,t){return this.toggleValidator(!1,e,t)}},{key:"enableValidator",value:function(e,t){return this.toggleValidator(!0,e,t)}},{key:"updateValidatorOption",value:function(e,t,a,n){return this.fields[e]&&this.fields[e].validators&&this.fields[e].validators[t]&&(this.fields[e].validators[t][a]=n),this}},{key:"destroy",value:function(){var t=this;return Object.keys(this.plugins).forEach(function(e){return t.plugins[e].uninstall()}),this.ee.clear(),this.filter.clear(),this.results.clear(),this.plugins={},this}},{key:"setLocale",value:function(e,t){return this.locale=e,this.localization=t,this}},{key:"waterfall",value:function(e){return e.reduce(function(e,a,t,n){return e.then(function(t){return a().then(function(e){return t.push(e),t})})},Promise.resolve([]))}},{key:"queryElements",value:function(e){e=this.fields[e].selector?"#"===this.fields[e].selector.charAt(0)?'[id="'.concat(this.fields[e].selector.substring(1),'"]'):this.fields[e].selector:'[name="'.concat(e,'"]');return[].slice.call(this.form.querySelectorAll(e))}},{key:"normalizeResult",value:function(e,t,a){var n=this.fields[e].validators[t];return Object.assign({},a,{message:a.message||(n?n.message:"")||(this.localization&&this.localization[t]&&this.localization[t].default?this.localization[t].default:"")||"The field ".concat(e," is not valid")})}},{key:"toggleValidator",value:function(t,a,e){var n=this,r=this.fields[a].validators;return e&&r&&r[e]?this.fields[a].validators[e].enabled=t:e||Object.keys(r).forEach(function(e){return n.fields[a].validators[e].enabled=t}),this.updateFieldStatus(a,"NotValidated",e)}}]),a}();var $=function(){function t(e){r(this,t),this.opts=e}return i(t,[{key:"setCore",value:function(e){return this.core=e,this}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}}]),t}(),H={getFieldValue:m},N=function(){function a(e){var t;return r(this,a),(t=v(this,l(a).call(this,e))).opts=e||{},t.validatorNameFilter=t.getValidatorName.bind(c(t)),t}return s(a,$),i(a,[{key:"install",value:function(){this.core.registerFilter("validator-name",this.validatorNameFilter)}},{key:"uninstall",value:function(){this.core.deregisterFilter("validator-name",this.validatorNameFilter)}},{key:"getValidatorName",value:function(e,t){return this.opts[e]||e}}]),a}(),M=function(){function t(){var e;return r(this,t),(e=v(this,l(t).call(this,{}))).elementValidatedHandler=e.onElementValidated.bind(c(e)),e.fieldValidHandler=e.onFieldValid.bind(c(e)),e.fieldInvalidHandler=e.onFieldInvalid.bind(c(e)),e.messageDisplayedHandler=e.onMessageDisplayed.bind(c(e)),e}return s(t,$),i(t,[{key:"install",value:function(){this.core.on("core.field.valid",this.fieldValidHandler).on("core.field.invalid",this.fieldInvalidHandler).on("core.element.validated",this.elementValidatedHandler).on("plugins.message.displayed",this.messageDisplayedHandler)}},{key:"uninstall",value:function(){this.core.off("core.field.valid",this.fieldValidHandler).off("core.field.invalid",this.fieldInvalidHandler).off("core.element.validated",this.elementValidatedHandler).off("plugins.message.displayed",this.messageDisplayedHandler)}},{key:"onElementValidated",value:function(e){e.valid&&(e.element.setAttribute("aria-invalid","false"),e.element.removeAttribute("aria-describedby"))}},{key:"onFieldValid",value:function(e){e=this.core.getElements(e);e&&e.forEach(function(e){e.setAttribute("aria-invalid","false"),e.removeAttribute("aria-describedby")})}},{key:"onFieldInvalid",value:function(e){e=this.core.getElements(e);e&&e.forEach(function(e){return e.setAttribute("aria-invalid","true")})}},{key:"onMessageDisplayed",value:function(e){e.messageElement.setAttribute("role","alert"),e.messageElement.setAttribute("aria-hidden","false");var t=this.core.getElements(e.field),a=t.indexOf(e.element),n="js-fv-".concat(e.field,"-").concat(a,"-").concat(Date.now(),"-message");e.messageElement.setAttribute("id",n),e.element.setAttribute("aria-describedby",n);e=e.element.getAttribute("type");"radio"!==e&&"checkbox"!==e||t.forEach(function(e){return e.setAttribute("aria-describedby",n)})}}]),t}(),w=function(){function a(e){var t;return r(this,a),(t=v(this,l(a).call(this,e))).opts=Object.assign({},{html5Input:!1,pluginPrefix:"data-fvp-",prefix:"data-fv-"},e),t}return s(a,$),i(a,[{key:"install",value:function(){var t=this;this.parsePlugins();var a=this.parseOptions();Object.keys(a).forEach(function(e){return t.core.addField(e,a[e])})}},{key:"parseOptions",value:function(){var a=this,n=this.opts.prefix,r={},i=this.core.getFields(),e=this.core.getFormElement();return[].slice.call(e.querySelectorAll("[name], [".concat(n,"field]"))).forEach(function(e){var t=a.parseElement(e);a.isEmptyOption(t)||(e=e.getAttribute("name")||e.getAttribute("".concat(n,"field")),r[e]=Object.assign({},r[e],t))}),Object.keys(r).forEach(function(t){Object.keys(r[t].validators).forEach(function(e){r[t].validators[e].enabled=r[t].validators[e].enabled||!1,i[t]&&i[t].validators&&i[t].validators[e]&&Object.assign(r[t].validators[e],i[t].validators[e])})}),Object.assign({},i,r)}},{key:"createPluginInstance",value:function(e,t){for(var a=e.split("."),n=window||this,r=0,i=a.length;r<i;r++)n=n[a[r]];if("function"!=typeof n)throw new Error("the plugin ".concat(e," doesn't exist"));return new n(t)}},{key:"parsePlugins",value:function(){for(var r=this,e=this.core.getFormElement(),t=new RegExp("^".concat(this.opts.pluginPrefix,"([a-z0-9-]+)(___)*([a-z0-9-]+)*$")),a=e.attributes.length,i={},n=0;n<a;n++){var s=e.attributes[n].name,l=e.attributes[n].value,o=t.exec(s);o&&4===o.length&&(s=this.toCamelCase(o[1]),i[s]=Object.assign({},o[3]?d({},this.toCamelCase(o[3]),l):{enabled:""===l||"true"===l},i[s]))}Object.keys(i).forEach(function(e){var t=i[e],a=t.enabled,n=t.class;a&&n&&(delete t.enabled,delete t.clazz,t=r.createPluginInstance(n,t),r.core.registerPlugin(e,t))})}},{key:"isEmptyOption",value:function(e){e=e.validators;return 0===Object.keys(e).length&&e.constructor===Object}},{key:"parseElement",value:function(e){for(var t=new RegExp("^".concat(this.opts.prefix,"([a-z0-9-]+)(___)*([a-z0-9-]+)*$")),a=e.attributes.length,n={},r=e.getAttribute("type"),i=0;i<a;i++){var s=e.attributes[i].name,l=e.attributes[i].value;if(this.opts.html5Input)switch(!0){case"minlength"===s:n.stringLength=Object.assign({},{enabled:!0,min:parseInt(l,10)},n.stringLength);break;case"maxlength"===s:n.stringLength=Object.assign({},{enabled:!0,max:parseInt(l,10)},n.stringLength);break;case"pattern"===s:n.regexp=Object.assign({},{enabled:!0,regexp:l},n.regexp);break;case"required"===s:n.notEmpty=Object.assign({},{enabled:!0},n.notEmpty);break;case"type"===s&&"color"===l:n.color=Object.assign({},{enabled:!0,type:"hex"},n.color);break;case"type"===s&&"email"===l:n.emailAddress=Object.assign({},{enabled:!0},n.emailAddress);break;case"type"===s&&"url"===l:n.uri=Object.assign({},{enabled:!0},n.uri);break;case"type"===s&&"range"===l:n.between=Object.assign({},{enabled:!0,max:parseFloat(e.getAttribute("max")),min:parseFloat(e.getAttribute("min"))},n.between);break;case"min"===s&&"date"!==r&&"range"!==r:n.greaterThan=Object.assign({},{enabled:!0,min:parseFloat(l)},n.greaterThan);break;case"max"===s&&"date"!==r&&"range"!==r:n.lessThan=Object.assign({},{enabled:!0,max:parseFloat(l)},n.lessThan)}var o=t.exec(s);o&&4===o.length&&(n[s=this.toCamelCase(o[1])]=Object.assign({},o[3]?d({},this.toCamelCase(o[3]),l):{enabled:""===l||"true"===l},n[s]))}return{validators:n}}},{key:"toUpperCase",value:function(e){return e.charAt(1).toUpperCase()}},{key:"toCamelCase",value:function(e){return e.replace(/-./g,this.toUpperCase)}}]),a}(),L=function(){function t(){var e;return r(this,t),(e=v(this,l(t).call(this,{}))).onValidHandler=e.onFormValid.bind(c(e)),e}return s(t,$),i(t,[{key:"install",value:function(){if(this.core.getFormElement().querySelectorAll('[type="submit"][name="submit"]').length)throw new Error("Do not use `submit` for the name attribute of submit button");this.core.on("core.form.valid",this.onValidHandler)}},{key:"uninstall",value:function(){this.core.off("core.form.valid",this.onValidHandler)}},{key:"onFormValid",value:function(){var e=this.core.getFormElement();e instanceof HTMLFormElement&&e.submit()}}]),t}(),x=function(){function a(e){var t;return r(this,a),(t=v(this,l(a).call(this,e))).opts=e||{},t.triggerExecutedHandler=t.onTriggerExecuted.bind(c(t)),t}return s(a,$),i(a,[{key:"install",value:function(){this.core.on("plugins.trigger.executed",this.triggerExecutedHandler)}},{key:"uninstall",value:function(){this.core.off("plugins.trigger.executed",this.triggerExecutedHandler)}},{key:"onTriggerExecuted",value:function(e){if(this.opts[e.field]){var t=this.opts[e.field].split(" "),a=!0,n=!1,r=void 0;try{for(var i=t[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var s=s.value.trim();this.opts[s]&&this.core.revalidateField(s)}}catch(e){n=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}}}}]),a}(),T=function(){function a(e){var t;return r(this,a),(t=v(this,l(a).call(this,e))).opts=Object.assign({},{excluded:a.defaultIgnore},e),t.ignoreValidationFilter=t.ignoreValidation.bind(c(t)),t}return s(a,$),i(a,[{key:"install",value:function(){this.core.registerFilter("element-ignored",this.ignoreValidationFilter)}},{key:"uninstall",value:function(){this.core.deregisterFilter("element-ignored",this.ignoreValidationFilter)}},{key:"ignoreValidation",value:function(e,t,a){return this.opts.excluded.apply(this,[e,t,a])}}],[{key:"defaultIgnore",value:function(e,t,a){var n=!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length),r=t.getAttribute("disabled");return""===r||"disabled"===r||"hidden"===t.getAttribute("type")||!n}}]),a}(),R=function(){function a(e){var t;return r(this,a),(t=v(this,l(a).call(this,e))).statuses=new Map,t.opts=Object.assign({},{onStatusChanged:function(){}},e),t.elementValidatingHandler=t.onElementValidating.bind(c(t)),t.elementValidatedHandler=t.onElementValidated.bind(c(t)),t.elementNotValidatedHandler=t.onElementNotValidated.bind(c(t)),t.elementIgnoredHandler=t.onElementIgnored.bind(c(t)),t.fieldAddedHandler=t.onFieldAdded.bind(c(t)),t.fieldRemovedHandler=t.onFieldRemoved.bind(c(t)),t}return s(a,$),i(a,[{key:"install",value:function(){this.core.on("core.element.validating",this.elementValidatingHandler).on("core.element.validated",this.elementValidatedHandler).on("core.element.notvalidated",this.elementNotValidatedHandler).on("core.element.ignored",this.elementIgnoredHandler).on("core.field.added",this.fieldAddedHandler).on("core.field.removed",this.fieldRemovedHandler)}},{key:"uninstall",value:function(){this.statuses.clear(),this.core.off("core.element.validating",this.elementValidatingHandler).off("core.element.validated",this.elementValidatedHandler).off("core.element.notvalidated",this.elementNotValidatedHandler).off("core.element.ignored",this.elementIgnoredHandler).off("core.field.added",this.fieldAddedHandler).off("core.field.removed",this.fieldRemovedHandler)}},{key:"areFieldsValid",value:function(){return Array.from(this.statuses.values()).every(function(e){return"Valid"===e||"NotValidated"===e||"Ignored"===e})}},{key:"getStatuses",value:function(){return this.statuses}},{key:"onFieldAdded",value:function(e){this.statuses.set(e.field,"NotValidated")}},{key:"onFieldRemoved",value:function(e){this.statuses.has(e.field)&&this.statuses.delete(e.field),this.opts.onStatusChanged(this.areFieldsValid())}},{key:"onElementValidating",value:function(e){this.statuses.set(e.field,"Validating"),this.opts.onStatusChanged(!1)}},{key:"onElementValidated",value:function(e){this.statuses.set(e.field,e.valid?"Valid":"Invalid"),e.valid?this.opts.onStatusChanged(this.areFieldsValid()):this.opts.onStatusChanged(!1)}},{key:"onElementNotValidated",value:function(e){this.statuses.set(e.field,"NotValidated"),this.opts.onStatusChanged(!1)}},{key:"onElementIgnored",value:function(e){this.statuses.set(e.field,"Ignored"),this.opts.onStatusChanged(this.areFieldsValid())}}]),a}();function Z(a,t){var n=[],r=[];Object.keys(t).forEach(function(e){e&&(t[e]?n:r).push(e)}),r.forEach(function(e){return t=a,void e.split(" ").forEach(function(e){t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")});var t}),n.forEach(function(e){return t=a,void e.split(" ").forEach(function(e){t.classList?t.classList.add(e):" ".concat(t.className," ").indexOf(" ".concat(e," "))&&(t.className+=" ".concat(e))});var t})}function P(e,t){for(var a,n,r,i=e;i&&(n=t,r=void 0,!((r=(a=i).matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector)?r.call(a,n):0<=[].slice.call(a.parentElement.querySelectorAll(n)).indexOf(a)));)i=i.parentElement;return i}var B=function(){function t(e){var a;return r(this,t),(a=v(this,l(t).call(this,e))).messages=new Map,a.defaultContainer=document.createElement("div"),a.opts=Object.assign({},{container:function(e,t){return a.defaultContainer}},e),a.elementIgnoredHandler=a.onElementIgnored.bind(c(a)),a.fieldAddedHandler=a.onFieldAdded.bind(c(a)),a.fieldRemovedHandler=a.onFieldRemoved.bind(c(a)),a.validatorValidatedHandler=a.onValidatorValidated.bind(c(a)),a.validatorNotValidatedHandler=a.onValidatorNotValidated.bind(c(a)),a}return s(t,$),i(t,[{key:"install",value:function(){this.core.getFormElement().appendChild(this.defaultContainer),this.core.on("core.element.ignored",this.elementIgnoredHandler).on("core.field.added",this.fieldAddedHandler).on("core.field.removed",this.fieldRemovedHandler).on("core.validator.validated",this.validatorValidatedHandler).on("core.validator.notvalidated",this.validatorNotValidatedHandler)}},{key:"uninstall",value:function(){this.core.getFormElement().removeChild(this.defaultContainer),this.messages.forEach(function(e){return e.parentNode.removeChild(e)}),this.messages.clear(),this.core.off("core.element.ignored",this.elementIgnoredHandler).off("core.field.added",this.fieldAddedHandler).off("core.field.removed",this.fieldRemovedHandler).off("core.validator.validated",this.validatorValidatedHandler).off("core.validator.notvalidated",this.validatorNotValidatedHandler)}},{key:"onFieldAdded",value:function(e){var a=this,t=e.elements;t&&(t.forEach(function(e){var t=a.messages.get(e);t&&(t.parentNode.removeChild(t),a.messages.delete(e))}),this.prepareFieldContainer(e.field,t))}},{key:"onFieldRemoved",value:function(e){var t,a=this;e.elements.length&&e.field&&("radio"===(t=e.elements[0].getAttribute("type"))||"checkbox"===t?[e.elements[0]]:e.elements).forEach(function(e){var t;a.messages.has(e)&&((t=a.messages.get(e)).parentNode.removeChild(t),a.messages.delete(e))})}},{key:"prepareFieldContainer",value:function(t,a){var e,n=this;a.length&&("radio"===(e=a[0].getAttribute("type"))||"checkbox"===e?this.prepareElementContainer(t,a[0],a):a.forEach(function(e){return n.prepareElementContainer(t,e,a)}))}},{key:"prepareElementContainer",value:function(e,t,a){var n;n=!0==("string"==typeof this.opts.container)?(r="#"===(r=this.opts.container).charAt(0)?'[id="'.concat(r.substring(1),'"]'):r,this.core.getFormElement().querySelector(r)):this.opts.container(e,t);var r=document.createElement("div");n.appendChild(r),Z(r,{"fv-plugins-message-container":!0}),this.core.emit("plugins.message.placed",{element:t,elements:a,field:e,messageElement:r}),this.messages.set(t,r)}},{key:"getMessage",value:function(e){return"string"==typeof e.message?e.message:e.message[this.core.getLocale()]}},{key:"onValidatorValidated",value:function(e){var t=e.elements,a=e.element.getAttribute("type"),a="radio"===a||"checkbox"===a?t[0]:e.element;this.messages.has(a)&&((a=(t=this.messages.get(a)).querySelector('[data-field="'.concat(e.field,'"][data-validator="').concat(e.validator,'"]')))||e.result.valid?a&&!e.result.valid?(a.innerHTML=this.getMessage(e.result),this.core.emit("plugins.message.displayed",{element:e.element,field:e.field,message:e.result.message,messageElement:a,meta:e.result.meta,validator:e.validator})):a&&e.result.valid&&t.removeChild(a):((a=document.createElement("div")).innerHTML=this.getMessage(e.result),a.setAttribute("data-field",e.field),a.setAttribute("data-validator",e.validator),this.opts.clazz&&Z(a,d({},this.opts.clazz,!0)),t.appendChild(a),this.core.emit("plugins.message.displayed",{element:e.element,field:e.field,message:e.result.message,messageElement:a,meta:e.result.meta,validator:e.validator})))}},{key:"onValidatorNotValidated",value:function(e){var t=e.elements,a=e.element.getAttribute("type"),t="radio"===a||"checkbox"===a?t[0]:e.element;!this.messages.has(t)||(e=(t=this.messages.get(t)).querySelector('[data-field="'.concat(e.field,'"][data-validator="').concat(e.validator,'"]')))&&t.removeChild(e)}},{key:"onElementIgnored",value:function(e){var t,a=e.elements,n=e.element.getAttribute("type"),a="radio"===n||"checkbox"===n?a[0]:e.element;this.messages.has(a)&&(t=this.messages.get(a),[].slice.call(t.querySelectorAll('[data-field="'.concat(e.field,'"]'))).forEach(function(e){t.removeChild(e)}))}}],[{key:"getClosestContainer",value:function(e,t,a){for(var n=e;n&&n!==t&&(n=n.parentElement,!a.test(n.className)););return n}}]),t}(),T={Alias:N,Aria:M,Declarative:w,DefaultSubmit:L,Dependency:x,Excluded:T,FieldStatus:R,Framework:function(){function a(e){var t;return r(this,a),(t=v(this,l(a).call(this,e))).results=new Map,t.containers=new Map,t.opts=Object.assign({},{defaultMessageContainer:!0,eleInvalidClass:"",eleValidClass:"",rowClasses:"",rowValidatingClass:""},e),t.elementIgnoredHandler=t.onElementIgnored.bind(c(t)),t.elementValidatingHandler=t.onElementValidating.bind(c(t)),t.elementValidatedHandler=t.onElementValidated.bind(c(t)),t.elementNotValidatedHandler=t.onElementNotValidated.bind(c(t)),t.iconPlacedHandler=t.onIconPlaced.bind(c(t)),t.fieldAddedHandler=t.onFieldAdded.bind(c(t)),t.fieldRemovedHandler=t.onFieldRemoved.bind(c(t)),t}return s(a,$),i(a,[{key:"install",value:function(){var e,a=this;Z(this.core.getFormElement(),(d(e={},this.opts.formClass,!0),d(e,"fv-plugins-framework",!0),e)),this.core.on("core.element.ignored",this.elementIgnoredHandler).on("core.element.validating",this.elementValidatingHandler).on("core.element.validated",this.elementValidatedHandler).on("core.element.notvalidated",this.elementNotValidatedHandler).on("plugins.icon.placed",this.iconPlacedHandler).on("core.field.added",this.fieldAddedHandler).on("core.field.removed",this.fieldRemovedHandler),this.opts.defaultMessageContainer&&this.core.registerPlugin("___frameworkMessage",new B({clazz:this.opts.messageClass,container:function(e,t){e=P(t,"string"==typeof a.opts.rowSelector?a.opts.rowSelector:a.opts.rowSelector(e,t));return B.getClosestContainer(t,e,a.opts.rowPattern)}}))}},{key:"uninstall",value:function(){var e;this.results.clear(),this.containers.clear(),Z(this.core.getFormElement(),(d(e={},this.opts.formClass,!1),d(e,"fv-plugins-framework",!1),e)),this.core.off("core.element.ignored",this.elementIgnoredHandler).off("core.element.validating",this.elementValidatingHandler).off("core.element.validated",this.elementValidatedHandler).off("core.element.notvalidated",this.elementNotValidatedHandler).off("plugins.icon.placed",this.iconPlacedHandler).off("core.field.added",this.fieldAddedHandler).off("core.field.removed",this.fieldRemovedHandler)}},{key:"onIconPlaced",value:function(e){}},{key:"onFieldAdded",value:function(e){var a=this,t=e.elements;t&&(t.forEach(function(e){var t=a.containers.get(e);t&&(Z(t,(d(t={},a.opts.rowInvalidClass,!1),d(t,a.opts.rowValidatingClass,!1),d(t,a.opts.rowValidClass,!1),d(t,"fv-plugins-icon-container",!1),t)),a.containers.delete(e))}),this.prepareFieldContainer(e.field,t))}},{key:"onFieldRemoved",value:function(e){var t=this;e.elements.forEach(function(e){e=t.containers.get(e);e&&Z(e,(d(e={},t.opts.rowInvalidClass,!1),d(e,t.opts.rowValidatingClass,!1),d(e,t.opts.rowValidClass,!1),e))})}},{key:"prepareFieldContainer",value:function(t,e){var a,n=this;e.length&&("radio"===(a=e[0].getAttribute("type"))||"checkbox"===a?this.prepareElementContainer(t,e[0]):e.forEach(function(e){return n.prepareElementContainer(t,e)}))}},{key:"prepareElementContainer",value:function(e,t){var a=P(t,"string"==typeof this.opts.rowSelector?this.opts.rowSelector:this.opts.rowSelector(e,t));a!==t&&(Z(a,(d(e={},this.opts.rowClasses,!0),d(e,"fv-plugins-icon-container",!0),e)),this.containers.set(t,a))}},{key:"onElementValidating",value:function(e){var t=e.elements,a=e.element.getAttribute("type"),e="radio"===a||"checkbox"===a?t[0]:e.element,e=this.containers.get(e);e&&Z(e,(d(e={},this.opts.rowInvalidClass,!1),d(e,this.opts.rowValidatingClass,!0),d(e,this.opts.rowValidClass,!1),e))}},{key:"onElementNotValidated",value:function(e){this.removeClasses(e.element,e.elements)}},{key:"onElementIgnored",value:function(e){this.removeClasses(e.element,e.elements)}},{key:"removeClasses",value:function(e,t){var a=e.getAttribute("type"),t="radio"===a||"checkbox"===a?t[0]:e;Z(t,(d(e={},this.opts.eleValidClass,!1),d(e,this.opts.eleInvalidClass,!1),e));t=this.containers.get(t);t&&Z(t,(d(t={},this.opts.rowInvalidClass,!1),d(t,this.opts.rowValidatingClass,!1),d(t,this.opts.rowValidClass,!1),t))}},{key:"onElementValidated",value:function(e){var a=this,t=e.elements,n=e.element.getAttribute("type"),n="radio"===n||"checkbox"===n?t[0]:e.element;Z(n,(d(t={},this.opts.eleValidClass,e.valid),d(t,this.opts.eleInvalidClass,!e.valid),t));var r,i=this.containers.get(n);i&&(e.valid?(this.results.delete(n),r=!0,this.containers.forEach(function(e,t){e===i&&!1===a.results.get(t)&&(r=!1)}),r&&Z(i,(d(e={},this.opts.rowInvalidClass,!1),d(e,this.opts.rowValidatingClass,!1),d(e,this.opts.rowValidClass,!0),e))):(this.results.set(n,!1),Z(i,(d(n={},this.opts.rowInvalidClass,!0),d(n,this.opts.rowValidatingClass,!1),d(n,this.opts.rowValidClass,!1),n))))}}]),a}(),Icon:function(){function a(e){var t;return r(this,a),(t=v(this,l(a).call(this,e))).icons=new Map,t.opts=Object.assign({},{invalid:"fv-plugins-icon--invalid",onPlaced:function(){},onSet:function(){},valid:"fv-plugins-icon--valid",validating:"fv-plugins-icon--validating"},e),t.elementValidatingHandler=t.onElementValidating.bind(c(t)),t.elementValidatedHandler=t.onElementValidated.bind(c(t)),t.elementNotValidatedHandler=t.onElementNotValidated.bind(c(t)),t.elementIgnoredHandler=t.onElementIgnored.bind(c(t)),t.fieldAddedHandler=t.onFieldAdded.bind(c(t)),t}return s(a,$),i(a,[{key:"install",value:function(){this.core.on("core.element.validating",this.elementValidatingHandler).on("core.element.validated",this.elementValidatedHandler).on("core.element.notvalidated",this.elementNotValidatedHandler).on("core.element.ignored",this.elementIgnoredHandler).on("core.field.added",this.fieldAddedHandler)}},{key:"uninstall",value:function(){this.icons.forEach(function(e){return e.parentNode.removeChild(e)}),this.icons.clear(),this.core.off("core.element.validating",this.elementValidatingHandler).off("core.element.validated",this.elementValidatedHandler).off("core.element.notvalidated",this.elementNotValidatedHandler).off("core.element.ignored",this.elementIgnoredHandler).off("core.field.added",this.fieldAddedHandler)}},{key:"onFieldAdded",value:function(e){var a=this,t=e.elements;t&&(t.forEach(function(e){var t=a.icons.get(e);t&&(t.parentNode.removeChild(t),a.icons.delete(e))}),this.prepareFieldIcon(e.field,t))}},{key:"prepareFieldIcon",value:function(t,e){var a,n=this;e.length&&("radio"===(a=e[0].getAttribute("type"))||"checkbox"===a?this.prepareElementIcon(t,e[0]):e.forEach(function(e){return n.prepareElementIcon(t,e)}))}},{key:"prepareElementIcon",value:function(e,t){var a=document.createElement("i");a.setAttribute("data-field",e),t.parentNode.insertBefore(a,t.nextSibling),Z(a,{"fv-plugins-icon":!0});e={classes:{invalid:this.opts.invalid,valid:this.opts.valid,validating:this.opts.validating},element:t,field:e,iconElement:a};this.core.emit("plugins.icon.placed",e),this.opts.onPlaced(e),this.icons.set(t,a)}},{key:"onElementValidating",value:function(e){var t=this.setClasses(e.field,e.element,e.elements,(d(t={},this.opts.invalid,!1),d(t,this.opts.valid,!1),d(t,this.opts.validating,!0),t)),t={element:e.element,field:e.field,iconElement:t,status:"Validating"};this.core.emit("plugins.icon.set",t),this.opts.onSet(t)}},{key:"onElementValidated",value:function(e){var t=this.setClasses(e.field,e.element,e.elements,(d(t={},this.opts.invalid,!e.valid),d(t,this.opts.valid,e.valid),d(t,this.opts.validating,!1),t)),e={element:e.element,field:e.field,iconElement:t,status:e.valid?"Valid":"Invalid"};this.core.emit("plugins.icon.set",e),this.opts.onSet(e)}},{key:"onElementNotValidated",value:function(e){var t=this.setClasses(e.field,e.element,e.elements,(d(t={},this.opts.invalid,!1),d(t,this.opts.valid,!1),d(t,this.opts.validating,!1),t)),t={element:e.element,field:e.field,iconElement:t,status:"NotValidated"};this.core.emit("plugins.icon.set",t),this.opts.onSet(t)}},{key:"onElementIgnored",value:function(e){var t=this.setClasses(e.field,e.element,e.elements,(d(t={},this.opts.invalid,!1),d(t,this.opts.valid,!1),d(t,this.opts.validating,!1),t)),t={element:e.element,field:e.field,iconElement:t,status:"Ignored"};this.core.emit("plugins.icon.set",t),this.opts.onSet(t)}},{key:"setClasses",value:function(e,t,a,n){var r=t.getAttribute("type"),t="radio"===r||"checkbox"===r?a[0]:t;if(this.icons.has(t)){t=this.icons.get(t);return Z(t,n),t}return null}}]),a}(),Message:B,Sequence:function(){function a(e){var t;return r(this,a),(t=v(this,l(a).call(this,e))).invalidFields=new Map,t.opts=Object.assign({},{enabled:!0},e),t.validatorHandler=t.onValidatorValidated.bind(c(t)),t.shouldValidateFilter=t.shouldValidate.bind(c(t)),t.fieldAddedHandler=t.onFieldAdded.bind(c(t)),t.elementNotValidatedHandler=t.onElementNotValidated.bind(c(t)),t.elementValidatingHandler=t.onElementValidating.bind(c(t)),t}return s(a,$),i(a,[{key:"install",value:function(){this.core.on("core.validator.validated",this.validatorHandler).on("core.field.added",this.fieldAddedHandler).on("core.element.notvalidated",this.elementNotValidatedHandler).on("core.element.validating",this.elementValidatingHandler).registerFilter("field-should-validate",this.shouldValidateFilter)}},{key:"uninstall",value:function(){this.invalidFields.clear(),this.core.off("core.validator.validated",this.validatorHandler).off("core.field.added",this.fieldAddedHandler).off("core.element.notvalidated",this.elementNotValidatedHandler).off("core.element.validating",this.elementValidatingHandler).deregisterFilter("field-should-validate",this.shouldValidateFilter)}},{key:"shouldValidate",value:function(e,t,a,n){return!((!0===this.opts.enabled||!0===this.opts.enabled[e])&&this.invalidFields.has(t)&&!!this.invalidFields.get(t).length&&-1===this.invalidFields.get(t).indexOf(n))}},{key:"onValidatorValidated",value:function(e){var t=this.invalidFields.has(e.element)?this.invalidFields.get(e.element):[],a=t.indexOf(e.validator);e.result.valid&&0<=a?t.splice(a,1):e.result.valid||-1!==a||t.push(e.validator),this.invalidFields.set(e.element,t)}},{key:"onFieldAdded",value:function(e){e.elements&&this.clearInvalidFields(e.elements)}},{key:"onElementNotValidated",value:function(e){this.clearInvalidFields(e.elements)}},{key:"onElementValidating",value:function(e){this.clearInvalidFields(e.elements)}},{key:"clearInvalidFields",value:function(e){var t=this;e.forEach(function(e){return t.invalidFields.delete(e)})}}]),a}(),SubmitButton:function(){function a(e){var t;return r(this,a),(t=v(this,l(a).call(this,e))).isFormValid=!1,t.opts=Object.assign({},{aspNetButton:!1,selector:'[type="submit"]:not([formnovalidate])'},e),t.submitHandler=t.handleSubmitEvent.bind(c(t)),t.buttonClickHandler=t.handleClickEvent.bind(c(t)),t}return s(a,$),i(a,[{key:"install",value:function(){var e,t=this;this.core.getFormElement()instanceof HTMLFormElement&&(e=this.core.getFormElement(),this.selectorButtons=[].slice.call(e.querySelectorAll(this.opts.selector)),this.submitButtons=[].slice.call(e.querySelectorAll('[type="submit"]')),e.setAttribute("novalidate","novalidate"),e.addEventListener("submit",this.submitHandler),this.hiddenClickedEle=document.createElement("input"),this.hiddenClickedEle.setAttribute("type","hidden"),e.appendChild(this.hiddenClickedEle),this.submitButtons.forEach(function(e){e.addEventListener("click",t.buttonClickHandler)}))}},{key:"uninstall",value:function(){var t=this,e=this.core.getFormElement();e instanceof HTMLFormElement&&e.removeEventListener("submit",this.submitHandler),this.submitButtons.forEach(function(e){e.removeEventListener("click",t.buttonClickHandler)}),this.hiddenClickedEle.parentElement.removeChild(this.hiddenClickedEle)}},{key:"handleSubmitEvent",value:function(e){this.validateForm(e)}},{key:"handleClickEvent",value:function(e){var t,a=e.currentTarget;a instanceof HTMLElement&&-1!==this.selectorButtons.indexOf(a)&&(this.opts.aspNetButton&&!0===this.isFormValid||(this.core.getFormElement().removeEventListener("submit",this.submitHandler),this.clickedButton=e.target,t=this.clickedButton.getAttribute("name"),a=this.clickedButton.getAttribute("value"),t&&a&&(this.hiddenClickedEle.setAttribute("name",t),this.hiddenClickedEle.setAttribute("value",a)),this.validateForm(e)))}},{key:"validateForm",value:function(e){var t=this;e.preventDefault(),this.core.validate().then(function(e){"Valid"===e&&t.opts.aspNetButton&&!t.isFormValid&&t.clickedButton&&(t.isFormValid=!0,t.clickedButton.removeEventListener("click",t.buttonClickHandler),t.clickedButton.click())})}}]),a}(),Tooltip:function(){function a(e){var t;return r(this,a),(t=v(this,l(a).call(this,e))).messages=new Map,t.opts=Object.assign({},{placement:"top",trigger:"click"},e),t.iconPlacedHandler=t.onIconPlaced.bind(c(t)),t.validatorValidatedHandler=t.onValidatorValidated.bind(c(t)),t.elementValidatedHandler=t.onElementValidated.bind(c(t)),t.documentClickHandler=t.onDocumentClicked.bind(c(t)),t}return s(a,$),i(a,[{key:"install",value:function(){this.tip=document.createElement("div"),Z(this.tip,d({"fv-plugins-tooltip":!0},"fv-plugins-tooltip--".concat(this.opts.placement),!0)),document.body.appendChild(this.tip),this.core.on("plugins.icon.placed",this.iconPlacedHandler).on("core.validator.validated",this.validatorValidatedHandler).on("core.element.validated",this.elementValidatedHandler),"click"===this.opts.trigger&&document.addEventListener("click",this.documentClickHandler)}},{key:"uninstall",value:function(){this.messages.clear(),document.body.removeChild(this.tip),this.core.off("plugins.icon.placed",this.iconPlacedHandler).off("core.validator.validated",this.validatorValidatedHandler).off("core.element.validated",this.elementValidatedHandler),"click"===this.opts.trigger&&document.removeEventListener("click",this.documentClickHandler)}},{key:"onIconPlaced",value:function(t){var a=this;switch(Z(t.iconElement,{"fv-plugins-tooltip-icon":!0}),this.opts.trigger){case"hover":t.iconElement.addEventListener("mouseenter",function(e){return a.show(t.element,e)}),t.iconElement.addEventListener("mouseleave",function(e){return a.hide()});break;case"click":default:t.iconElement.addEventListener("click",function(e){return a.show(t.element,e)})}}},{key:"onValidatorValidated",value:function(e){var t,a;e.result.valid||(a=e.elements,a="radio"===(t=e.element.getAttribute("type"))||"checkbox"===t?a[0]:e.element,e="string"==typeof e.result.message?e.result.message:e.result.message[this.core.getLocale()],this.messages.set(a,e))}},{key:"onElementValidated",value:function(e){var t,a;e.valid&&(t=e.elements,e="radio"===(a=e.element.getAttribute("type"))||"checkbox"===a?t[0]:e.element,this.messages.delete(e))}},{key:"onDocumentClicked",value:function(e){this.hide()}},{key:"show",value:function(e,t){if(t.preventDefault(),t.stopPropagation(),this.messages.has(e)){Z(this.tip,{"fv-plugins-tooltip--hide":!1}),this.tip.innerHTML='<span class="fv-plugins-tooltip__content">'.concat(this.messages.get(e),"</span>");var a=t.target.getBoundingClientRect(),n=0,r=0;switch(this.opts.placement){case"top":default:n=a.top-a.height,r=a.left+a.width/2-this.tip.clientWidth/2;break;case"top-left":n=a.top-a.height,r=a.left;break;case"top-right":n=a.top-a.height,r=a.left+a.width-this.tip.clientWidth;break;case"bottom":n=a.top+a.height,r=a.left+a.width/2-this.tip.clientWidth/2;break;case"bottom-left":n=a.top+a.height,r=a.left;break;case"bottom-right":n=a.top+a.height,r=a.left+a.width-this.tip.clientWidth;break;case"left":n=a.top+a.height/2-this.tip.clientHeight/2,r=a.left-this.tip.clientWidth;break;case"right":n=a.top+a.height/2-this.tip.clientHeight/2,r=a.left+a.width}n+=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,r+=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,this.tip.setAttribute("style","top: ".concat(n,"px; left: ").concat(r,"px"))}}},{key:"hide",value:function(){Z(this.tip,{"fv-plugins-tooltip--hide":!0})}}]),a}(),Trigger:function(){function n(e){var t;r(this,n),(t=v(this,l(n).call(this,e))).handlers=[],t.timers=new Map,t.ieVersion=function(){for(var e=3,t=document.createElement("div"),a=t.all||[];t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><br><![endif]--\x3e",a[0];);return 4<e?e:document.documentMode}();var a=document.createElement("div");return t.defaultEvent=9!==t.ieVersion&&"oninput"in a?"input":"keyup",t.opts=Object.assign({},{delay:0,event:t.defaultEvent,threshold:0},e),t.fieldAddedHandler=t.onFieldAdded.bind(c(t)),t.fieldRemovedHandler=t.onFieldRemoved.bind(c(t)),t}return s(n,$),i(n,[{key:"install",value:function(){this.core.on("core.field.added",this.fieldAddedHandler).on("core.field.removed",this.fieldRemovedHandler)}},{key:"uninstall",value:function(){this.handlers.forEach(function(e){return e.element.removeEventListener(e.event,e.handler)}),this.handlers=[],this.timers.forEach(function(e){return window.clearTimeout(e)}),this.timers.clear(),this.core.off("core.field.added",this.fieldAddedHandler).off("core.field.removed",this.fieldRemovedHandler)}},{key:"prepareHandler",value:function(r,e){var i=this;e.forEach(function(a){var e=[];switch(!0){case!!i.opts.event&&!1===i.opts.event[r]:e=[];break;case!!i.opts.event&&!!i.opts.event[r]:e=i.opts.event[r].split(" ");break;case"string"==typeof i.opts.event&&i.opts.event!==i.defaultEvent:e=i.opts.event.split(" ");break;default:var t=a.getAttribute("type"),n=a.tagName.toLowerCase(),e=["radio"===t||"checkbox"===t||"file"===t||"select"===n?"change":10<=i.ieVersion&&a.getAttribute("placeholder")?"keyup":i.defaultEvent]}e.forEach(function(e){function t(e){return i.handleEvent(e,r,a)}i.handlers.push({element:a,event:e,field:r,handler:t}),a.addEventListener(e,t)})})}},{key:"handleEvent",value:function(t,a,n){var e,r,i,s=this;this.exceedThreshold(a,n)&&this.core.executeFilter("plugins-trigger-should-validate",!0,[a,n])&&(e=function(){return s.core.validateElement(a,n).then(function(e){s.core.emit("plugins.trigger.executed",{element:n,event:t,field:a})})},0===(r=this.opts.delay[a]||this.opts.delay)?e():((i=this.timers.get(n))&&window.clearTimeout(i),this.timers.set(n,window.setTimeout(e,1e3*r))))}},{key:"onFieldAdded",value:function(t){this.handlers.filter(function(e){return e.field===t.field}).forEach(function(e){return e.element.removeEventListener(e.event,e.handler)}),this.prepareHandler(t.field,t.elements)}},{key:"onFieldRemoved",value:function(t){this.handlers.filter(function(e){return e.field===t.field&&0<=t.elements.indexOf(e.element)}).forEach(function(e){return e.element.removeEventListener(e.event,e.handler)})}},{key:"exceedThreshold",value:function(e,t){var a=0!==this.opts.threshold[e]&&0!==this.opts.threshold&&(this.opts.threshold[e]||this.opts.threshold);if(!a)return!0;var n=t.getAttribute("type");return-1!==["button","checkbox","file","hidden","image","radio","reset","submit"].indexOf(n)||this.core.getElementValue(e,t).length>=a}}]),n}()};R={call:p,classSet:Z,closest:P,fetch:b,format:k,hasClass:function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )".concat(t,"( |$)"),"gi").test(e.className)},isValidDate:E};e.Plugin=$,e.algorithms=a,e.filters=H,e.formValidation=function(e,t){var a=Object.assign({},{fields:{},locale:"en_US",plugins:{}},t),n=new S(e,a.fields);return n.setLocale(a.locale,a.localization),Object.keys(a.plugins).forEach(function(e){return n.registerPlugin(e,a.plugins[e])}),Object.keys(V).forEach(function(e){return n.registerValidator(e,V[e])}),Object.keys(a.fields).forEach(function(e){return n.addField(e,a.fields[e])}),n},e.locales={},e.plugins=T,e.utils=R,e.validators=V,Object.defineProperty(e,"__esModule",{value:!0})});
